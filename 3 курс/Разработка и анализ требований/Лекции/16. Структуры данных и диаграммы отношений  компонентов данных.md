Структурой данных называют совокупность правил и ограничений, которые отражают связи, существующие между отдельными частями (элементами) данных.  
Различают абстрактные структуры данных, используемые для уточнения связей между элементами, и конкретные структуры, используемые для представления данных в программах.  
Все абстрактные структуры данных можно разделить на три группы: 
- Несвязанные:
	- Множество  
		![Множество](../Pictures/16_01.%20Множество.png)
	- Кортеж  
		![Кортеж](../Pictures/16_02.%20Кортеж.png)
	  
	Наиболее существенная характеристика элемента данных в этих структурах - его принадлежность некоторому набору, т. е. отношение вхождения. Данные абстрактные структуры используют, если никакие другие отношения элементов не являются существенными для описываемых объектов.  
- С неявными связями - таблицы:
	- Вектор  
		![Вектор](../Pictures/16_03.%20Вектор.png)
	- Матрица  
		![Матрица](../Pictures/16_04.%20Матрица.png)
	- Массив  
		![Массив](../Pictures/16_05.%20Массив.png)  
		![Массив однотипных таблиц с вложенными структурами](../Pictures/16_06.%20Массив%20однотипных%20таблиц%20с%20вложенными%20структурами.png)
	- Запись  
		![Запись](../Pictures/16_07.%20Запись.png)
	- Строка  
		![Строка](../Pictures/16_08.%20Строка.png)
	- ...
	  
	Использование этих абстрактных типов может означать, что существенным является не только вхождение элемента данных в некоторую структуру, но и их порядок, а также отношения иерархии структур, т. е. вхождение структуры в структуру более высокой степени общности
- С явными связями - графы:
	- Цепь  
		![Цепь](../Pictures/16_09.%20Цепь.png)
	- Цикл  
		![Цикл](../Pictures/16_10.%20Цикл.png)
	- Дерево  
		![Дерево](../Pictures/16_11.%20Дерево.png)
	- Ориентированный граф  
		![Ориентированный граф](../Pictures/16_12.%20Ориентированный%20граф.png)
	- Взвешенный граф  
		![Взвешенный граф](../Pictures/16_13.%20Взвешенный%20граф.png)
	- Мультиграф  
		![Мультиграф](../Pictures/16_14.%20Мультиграф.png)
	- ...
	  
	В этих случаях существенны связи элементов данных между собой
  
Очень существенно, что в реальности возможно вложение структур данных, в том числе и разных типов, а потому для их описания могут потребоваться специальные модели. В зависимости от описываемых типов отношений модели структур данных принято делить на:
- **Иерархические модели** - позволяют описывать упорядоченные или неупорядоченные отношения вхождения элементов данных в компонент более высокого уровня, т. е. множества, таблицы и их комбинации. К иерархическим моделям относят модель Джексона-Орра, для графического представления которой можно использовать:
	- Диаграммы Джексона, предложенные в составе методики проектирования программного обеспечения того же автора в 1975 г.
	- Скобочные диаграммы Орра, предложенные в составе методики проектирования программного обеспечения Варнье-Орра (1974)
- **Сетевые модели** - основаны на графах, а потому позволяют описывать связность элементов данных независимо от вида отношения, в том числе комбинации множеств, таблиц и графов. К сетевым моделям, например, относят модель «сущность-связь» (ER - Entity-Relationship), обычно используемую при разработке баз данных
## Диаграммы Джексона
В основе **диаграмм Джексона** лежит предположение о том, что структуры данных, так же, как и программ, можно строить из элементов с использованием всего 3 основных конструкций:
- Последовательность  
	![Последовательность](../Pictures/16_15.%20Последовательность.png)
- Выбор  
	![Выбор](../Pictures/16_16.%20Выбор.png)
- Повторение  
	![Повторение](../Pictures/16_17.%20Повторение.png)
  
Каждая конструкция представляется в виде двухуровневой иерархии, на верхнем уровне которой расположен блок конструкции, а на нижнем - блоки элементов. Нотации конструкций различаются специальными символами в правом верхнем углу блоков элементов. В изображении последовательности дополнительный символ отсутствует. В изображении выбора ставится символ «`о`» (латинское) - сокращение английского «или» (or). Конструкции последовательности и выбора должны содержать по два или более элементов второго уровня. В изображении повторения в блоке единственного (повторяющегося) элемента ставится символ «`*`».  
Так схема последовательности означает, что конструкция $A$ состоит из элементов $B$, $C$ и
$D$, следующих в указанном порядке. Схема нвыбора означает, что конструкция $S$ состоит
либо из элемента $P$, либо из элемента $Q$, либо из элемента $R$. Схема повторения показывает, что конструкция $I$ может не содержать элементов или содержать один или более элементов $X$.  
В случае если необходимо показать, что конструкция повторения должна включать один или более элементов, используют комбинацию из двух структур последовательности и повторения.  
![Комбинация из 2 структур последовательности и повторения](../Pictures/16_18.%20Комбинация%20из%202%20структур%20последовательности%20и%20повторения.png)  
## Скобочные диаграммы Орра
**Диаграмма Орра** базируется на том же предположении о сходстве структур программ и данных, что и диаграмма Джексона. Отличие состоит лишь в нотации. Автор предлагает для представления конструкций данных использовать фигурные скобки.  
![Скобочные диаграммы Орра](../Pictures/16_19.%20Скобочные%20диаграммы%20Орра.png)  
(а - последовательность, б - выбор, в - повторение)  
**Пример 1:** Рассмотрим описание структуры данных файла «Электронная ведомость», содержащего сведения о сдаче экзаменов студентами. Файл состоит из записей о результатах сдачи сессии студентами одной группы. Он имеет следующую структуру: номер группы, записи об успеваемости студентов (ФИО студента, название предмета и оценка, полученная студентом, в завершении записи специальный символ «конец записи») и специальный символ «конец файла». На рисунке показано, как выглядит описание данной структуры с использованием диаграммы Джексона:  
![Диаграмма Джексона для примера](../Pictures/16_20.%20Диаграмма%20Джексона%20для%20примера.png)  
А на данном рисунке - с использованием скобок Орра:  
![Диаграмма Орра](../Pictures/16_21.%20Диаграмма%20Орра%20для%20примера.png)  
## Сетевая модель данных
**Сетевые модели данных** используют в тех случаях, если отношение между компонентами данных не исчерпываются включением. Для графического представления разновидностей этой модели используют несколько нотаций. Наиболее известны из них следующие:
- нотация П. Чена
- нотация Р. Баркера
- нотация IDEF1 (более современный вариант этой нотации - IDEF1X используется в CASE- системах, например в системе ERWin)
  
Нотация Баркера является наиболее распространенной. Далее в настоящем разделе будем придерживаться именно этой нотации.  
Базовыми понятиями сетевой модели данных являются: сущность, атрибут и связь.  
**Сущность** - реальный или воображаемый объект, имеющий существенное значение для рассматриваемой предметной области.  
Каждая сущность должна:
- иметь уникальное имя
- обладать одним или несколькими атрибутами, которые либо принадлежат сущности, либо наследуются через связь
- обладать одним или несколькими атрибутами, которые однозначно идентифицируют каждый экземпляр сущности
  
Сущность представляет собой множество экземпляров реальных или абстрактных объектов (людей, событий, состояний, предметов и т. п.). Имя сущности должно отражать тип или класс объекта, а не его конкретный экземпляр (Аэропорт, а не Внуково).  
На диаграмме в нотации Баркера сущность изображается прямоугольником, иногда с закругленными углами:  
![Сущность без атрибутов](../Pictures/16_22.%20Сущность%20без%20атрибутов.png)  
Каждая сущность обладает одним или несколькими атрибутами. **Атрибут** - любая характеристика сущности, значимая для рассматриваемой предметной области и предназначенная для квалификации, идентификации, классификации, количественной характеристики или выражения состояния сущности:  
![Сущность с указанием атрибутов](../Pictures/16_23.%20Сущность%20с%20указанием%20атрибутов.png)  
В сетевой модели атрибуты ассоциируются с конкретными сущностями, и, соответственно, экземпляр сущности должен обладать единственным определенным значением для ассоциированного атрибута. Атрибут, таким образом, представляет собой некоторый тип характеристик или свойств, ассоциированных с множеством реальных или абстрактных объектов.  
**Экземпляр атрибута** - определенная характеристика конкретного экземпляра сущности. Он определяется типом характеристики и ее значением, называемым значением атрибута.  
Атрибуты делятся на ключевые, т. е. входящие в состав уникального идентификатора, который называют первичным ключом, и описательные - прочие.  
**Первичный ключ** - это атрибут или совокупность атрибутов и/или связей, предназначенная для уникальной идентификации каждого экземпляра сущности (совокупность признаков, позволяющих идентифицировать объект). Ключевые атрибуты помещают в начало списка и помечают символом «`#`»:  
![Сущность с указанием атрибутов и их типов](../Pictures/16_24.%20Сущность%20с%20указанием%20атрибутов%20и%20их%20типов.png)  
Описательные атрибуты бывают обязательными или необязательными. Обязательные атрибуты для каждой сущности всегда имеют конкретное значение, необязательные - могут быть не определены. Обязательные и необязательные описательные атрибуты помечают символами «`*`» и «`о`» соответственно.  
Для сущностей определено понятие супертип и подтип. **Супертип** - сущность обобщающая некую группу сущностей (подтипов). Супертип характеризуется общими для подтипов атрибутами и отношениями. Например, для некоторых задач супертип «учащийся» обобщает подтипы «школьник» и «студент».  
![Супертип и подтип](../Pictures/16_25.%20Супертип%20и%20подтипы.png)  
**Связь** - поименованная ассоциация между двумя или более сущностями, значимая для рассматриваемой предметной области. Связь, таким образом, означает, что каждый экземпляр одной сущности ассоциирован с произвольным (в том числе и нулевым) количеством экземпляров второй сущности и наоборот. Если любой экземпляр одной сущности связан хотя бы с одним экземпляром другой сущности, то связь является обязательной:  
![Обязательная связь](../Pictures/16_26.%20Обязательная%20связь.png)  
Необязательная связь представляет собой условное отношение между сущностями:  
![Необязательная связь](../Pictures/16_27.%20Необязательная%20связь.png)  
Каждая сущность может быть связана любым количеством связей с другими сущностями модели. Связь предполагает некоторое отношение сущностей, которое характеризуется количеством экземпляров сущности, участвующих в связи с каждой стороны.  
Различают три типа отношений:
- `1*1` - «один-к-одному» - одному экземпляру первой сущности соответствует один экземпляр второй  
	![Отношение один-к-одному](../Pictures/16_28.%20Отношение%20один-к-одному.png)
- `1*n` - «один-ко-многим» - одному экземпляру первой сущности соответствуют несколько экземпляров второй  
	![Отношение один-ко-многим](../Pictures/16_29.%20Отношение%20один-ко-многим.png)
- `n*m` - «многие-ко-многим» - каждому экземпляру первой сущности может соответствовать несколько экземпляров второй и, наоборот, каждому экземпляру второй сущности может соответствовать несколько экземпляров первой  
	![Отношение многие-ко-многим](../Pictures/16_30.%20Отношение%20многие-ко-многим.png)
  
Кроме того, сущности бывают следующих видов:
- **Независимая сущность** - представляет независимые данные, которые всегда присутствуют в системе. Они могут быть связаны или не связаны с другими сущностями той же системы
- **Зависимая сущность** - представляет данные, зависящие от других сущностей системы, поэтому она всегда должна быть связана с другими сущностями
- **Ассоциированная сущность** - представляет данные, которые ассоциируются с отношениями между двумя и более сущностями. Обычно данный вид сущностей используется в модели для разрешения отношения «многие-ко-многим»  
	![Ассоциированная сущность](../Pictures/16_31.%20Ассоциированная%20сущность.png)
  
Если экземпляр сущности полностью идентифицируется своими ключевыми атрибутами, то говорят о полной идентификации сущности. В противном случае идентификация сущности осуществляется с использованием атрибутов связанной сущности, что указывается черточкой на линии связи:  
![Идентификация сущности](../Pictures/16_32.%20Идентификация%20сущности.png)  
Кроме этого, модель включает понятия различных видов связей:
- При наличии взаимно исключающей связи экземпляр сущности участвует только в одной связи из некоторой группы связей:  
	 ![Взаимно исключающая связь](../Pictures/16_33.%20Взаимно%20исключающая%20связь.png)
- Рекурсивная связь предполагает, что сущность может быть связана сама с собой:  
	![Рекурсивная связь](../Pictures/16_34.%20Рекурсивная%20связь.png)
- Неперемещаемая связь означает, что экземпляр сущности не может быть перенесен из одного экземпляра связи в другой:  
	![Неперемещаемая связь](../Pictures/16_35.%20Неперемещаемая%20связь.png)
  
**Пример 2**: Рассмотрим структуру базы данных для системы учета успеваемости студентов. Основными сущностями для решения указанной задачи являются: Студент и Предмет (изучаемый учебный курс).  
Отношение между ними относится к типу «многие-ко-многим». Для разрешения этого отношения введем ассоциированную сущность Экзамен/Зачет, которая отражает текущее выполнение предметов учебного плана студентом.  
Предметы, которые изучает и по которым отчитывается студент, запланированы кафедрой в учебном плане. Учебный план включает список предметов каждого семестра (сущность Семестр).  
Для получения справок различного рода потребуются сущности, определяющие структуру организации:
- Факультет
- Курс - совокупность студентов, поступивших в институт в одном году
- Кафедра
- Группа
  
Для определения момента времени, начиная с которого отсутствие положительных результатов сдачи экзамена следует считать задолженностью, необходимо хранить даты экзаменов для каждой группы (сущность Дата экзамена). На рисунке показаны основные отношения между указанными сущностями:  
![Диаграмма сущность-связь для примера](../Pictures/16_36.%20Отношения%20между%20сущностями%20в%20примере.png)  
На следующем шаге определяем атрибуты каждой сущности и уточняем их типы (атрибуты, используемые для дополнительной идентификации сущности другой сущностью, не указаны, так как они описаны в соответствующей сущности).  
- Факультет:
	- DepID-уникальное имя факультета (ключевое поле)
	- DepName - название факультета
- Курс:
	- CursID - уникальное имя кафедры (ключевое поле)
	- EnterYear - год начала обучения для большинства студентов курса
- Кафедра:
	- SpecID - уникальное имя кафедры (ключевое поле)
	- SpecName - название кафедры
- Семестр:
	- SemestrlD - уникальное имя семестра обучения на конкретной кафедре (ключевое поле)
	- SemName - название семестра обучения на кафедре
- Группа:
	- GroupID - уникальное имя группы (ключевое поле)
	- GroupName - название группы
- Предмет:
	- SubjectID - уникальное имя предмета (ключевой атрибут)
	- SubjectName - название предмета
	- ExamKind - вид оценки знаний (необязательный атрибут): экзамен/зачет/экзамен+зачет
- Дата экзамена:
	- Date - дата экзамена
	- AudNumber - номер аудитории.
- Студент:
	- StudentID - уникальное имя студента (ключевое поле)
	- Name - фамилия
	- FirstName - имя
	- SecondName - отчество
	- StEnterYear - год поступления в институт.
- Экзамен/Зачет:
	- Date - дата сдачи экзамена или зачета
	- ЕхатТуре - тип (экзамен или зачет)
	- Mark - оценка
 
Полученная диаграмма «сущность-связь» приведена на рисунке:  
![Диаграмма сущность-связь для примера](../Pictures/16_37.%20Диаграмма%20сущность-связь%20для%20примера.png)  
Данная диаграмма должна быть проверена с точки зрения возможности получения всех справок, указанных в техническом задании или показанных на диаграмме потоков данных разрабатываемой системы.  

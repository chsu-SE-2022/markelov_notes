В 1965 г. Уилксом в процессе разработки вычислительной машины Atlas было предложено использовать двухуровневую память, когда между основной памятью и процессором размещается небольшая, но быстро действующая буферная память. Уилкс назвал эту память подчиненной, а затем распространение получил термин **кэш-память**.  
Когда процессор пытается прочитать слово из основной памяти, сначала осуществляется поиск этого слова в кэше. Если такая копия существует, обращение к основной памяти не производится, а в процессор передается слово, извлеченное из кэш-памяти. Такая ситуация называется **успешным обращением** или **попаданием**. При отсутствии нужного слова в кэше, требуемое слово передается из основной памяти и одновременно из основной памяти в кэш пересылается блок данных, содержащих это слово.  
![Структура системы с основной и кэш-памятью](../Pictures/06_01.%20Структура%20системы%20с%20основной%20и%20кэш-памятью.png)  
Основная память состоит из $2^n$ адресуемых слов, причем каждое слово имеет уникальный $n$-разрядный адрес. При взаимодействии с кэш-памятью основная память рассматривается как $M$ блоков фиксированной длины по $k$ слов в каждом ($M=\frac{2^n}{k}$). В свою очередь, кэш-память состоит из $c$ блоков аналогичного размера, называемых **строками**, причем количество строк намного меньше, чем количество блоков ($c<<M$). При считывании слова из какого либо блока основной памяти этот блок копируется в одну из строк кэш-памяти. Т. к. $c<<M$, то отдельная строка не может быть выделена постоянно одному и тому же блоку основной памяти. Поэтому каждой строке кэш-памяти соответствует признак или тег, содержащий сведения, какой блок хранится в данный момент в данной строке. В качестве тега обычно используется часть адреса основной памяти.  
На эффективность применения кэш-памяти влияют следующие моменты:
- **Емкость кэш-памяти**. Выбор емкости кэш-памяти - это определенный компромисс. Т. к., с одной стороны, кэш-память должна быть достаточно мала, чтобы ее стоимость не была высокой. С другой стороны, она должна быть достаточно большой, чтобы среднее время доступа к системе определялось временем доступа к кэш-памяти. Для большинства задач, близкой к оптимальной является кэш-память от 1 до 512 Кб
- **Размер строки**. Когда в кэш-память помещается строка, вместе с требуемым словом попадает и соседнее. По мере увеличения размера строки вероятность промахов сначала падает, т. к. в кэш попадают данные, которые потребуются в ближайшее время. Однако, когда размер строки становится излишне большим, вероятность промахов начинает расти, т. к. большие размеры строки уменьшают общее количество строк, следовательно появляется необходимость частой их замены. По мере увеличения размера строки каждое дополнительное слово оказывается дальше от запрошенного, поэтому оно менее вероятно понадобится в ближайшее время. Наиболее близким к оптимальному является размер строки, равный 4-8 адресуемым единицам. На практике размер строки обычно выбирают равным ширине шины данных между кэшем и основной памятью.
- **Способ отображения основной памяти на кэш-памяти**. Способ отображения должен отвечать 3 требованиям:
	1. Обеспечивать быструю проверку кэш-памяти на наличие в ней копии блока ОП.
	2. Обеспечивать быстрое преобразование адреса блока основной памяти в адрес строки кэша
	3. Требование реализовывать п.1-2 наиболее экономными средствами
	  
	Рассмотрим систему, состоящую из основной памяти емкостью 256 килослов (Кслов) и кэш-памяти емкостью 2 Кслова. Для адресации каждого слова основной памяти необходим 18-разрядный адрес. ОП разбивается на блоки по 16 слов. Всего блоков - $2^{14}=16384$ блока. При такой организации 18-разрядный адрес делится на 2 части: младшие 4 разряда - это адрес слова в пределах блока, а старшие 14 разрядов - это номер блока. В свою очередь, для адресации любого слова в кэш-памяти требуется 11-разрядный адрес. Кэш-память разбита на строки, всего их $2^7=128$ строк. Тогда 11-разрядный адрес слова делится на 2 части: 4 младших разряда - адрес слова в строке, и 7 старших разрядов - это номер или адрес строки в кэш-памяти. Поэтому остается преобразовать 14 разрядный адрес блока основной памяти в 7-разрядный адрес строки кэша.  
	Известно 3 способа отображения основной памяти на кэш:
	1. Прямое отображение  
		![Прямое отображение](../Pictures/06_02.%20Прямое%20отображение.png)
- алгоритм замещения информации в заполненной кэш-памяти
- алгоритм согласования содержимого основной и кэш-памяти
- число уровней кэш-памяти
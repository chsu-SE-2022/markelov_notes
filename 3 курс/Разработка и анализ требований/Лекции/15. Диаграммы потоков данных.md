Диаграммы потоков данных позволяют специфицировать как функции разрабатываемого программного обеспечения, так и обрабатываемые им данные. При использовании этой модели систему представляют в виде иерархии диаграмм потоков данных, описывающих асинхронный процесс преобразования информации с момента ввода в систему до выдачи пользователю. На каждом следующем уровне иерархий происходит уточнение процессов, пока очередной процесс не будет признан элементарным.  
Модели потоков данных были независимо предложены сначала Е. Йорданом (1975), затем Ч. Гейном и Т. Сарсоном (1979). На этих моделях основаны классические методологии структурного анализа и проектирования программного обеспечения соответственно Йордана-Де Марка и Гейна-Сарсона. Та же модель используется в методологии структурного анализа и проектирования SSADM (Structured Systems Analysis and Design Method) принятой в Великобритании в качестве национального стандарта разработки информационных систем.  
В основе модели лежат понятия внешней сущности, процесса, хранилища (накопителя) данных и потока данных.  
**Внешняя сущность** - материальный объект или физическое лицо, выступающие в качестве источников или приемников информации, например, заказчики, персонал, поставщики, клиенты, банк и т. п.  
**Процесс** - преобразование входных потоков данных в выходные в соответствии с определенным алгоритмом. Каждый процесс в системе имеет свой номер и связан с исполнителем, который осуществляет данное преобразование. Как в случае функциональных диаграмм, физически преобразование может осуществляться компьютерами, вручную или специальными устройствами. На верхних уровнях иерархии, когда процессы еще не определены, вместо понятия «процесс» используют понятия «система» и «подсистема», которые обозначают соответственно систему в целом или ее функционально законченную часть.  
**Хранилище данных** - абстрактное устройство для хранения информации. Тип устройства и способы помещения, извлечения и хранения для такого устройства не детализируют. Физически это может быть база данных, файл, таблица в оперативной памяти, картотека на бумаге и т. п.  
**Поток данных** - процесс передачи некоторой информации от источника к приемнику. Физически процесс передачи информации может происходить по кабелям под управлением программы или программной системы или вручную при участии устройств или людей вне проектируемой системы.  
Таким образом, диаграмма иллюстрирует как потоки данных, порожденные некоторыми внешними сущностями, трансформируются соответствующими процессами (или подсистемами), сохраняются накопителями данных и передаются другим внешним сущностям - приемникам информации. В результате мы получаем сетевую модель хранения/обработки информации.  
Для изображения диаграмм потоков данных традиционно используют два вида нотаций: нотации Йордана и Гейна-Сарсона:

| Понятие                         | Нотация Йордана                                                                                                                              | Нотация Гейна-Сарсона                                                                                                                                    |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Внешняя сущность                | ![Нотация Йордана - Внешняя сущность](../Pictures/15_01.%20Нотация%20Йордана%20-%20Внешняя%20сущность.png)                                   | ![Нотация Гейна-Сарсона - Внешняя сущность](../Pictures/15_05.%20Нотация%20Гейна-Сарсона%20-%20Внешняя%20сущность.png)                                   |
| Система, подсистема или процесс | ![Нотация Йордана - Система, подсистема или процесс](../Pictures/15_02.%20Нотация%20Йордана%20-%20Система,%20подсистема%20или%20процесс.png) | ![Нотация Гейна-Сарсона - Система, подсистема или процесс](../Pictures/15_06.%20Нотация%20Гейна-Сарсона%20-%20Система,%20подсистема%20или%20процесс.png) |
| Накопитель данных               | ![Нотация Йордана - Накопитель данных](../Pictures/15_03.%20Нотация%20Йордана%20-%20Накопитель%20данных.png)                                 | ![Нотация Гейна-Сарсона - Накопитель данных](../Pictures/15_07.%20Нотация%20Гейна-Сарсона%20-%20Накопитель%20данных.png)                                 |
| Поток                           | ![Нотация Йордана - Поток](../Pictures/15_04.%20Нотация%20Йордана%20-%20Поток.png)                                                           | ![Нотация Гейна-Сарсона - Поток](../Pictures/15_08.%20Нотация%20Гейна-Сарсона%20-%20Поток.png)                                                           |
  
Над линией потока, направление которого обозначают стрелкой, указывают, какая конкретно информация в данном случае передается:  
![Пример потока данных](../Pictures/15_09.%20Пример%20потока%20данных.png)  
Построение иерархии диаграмм потоков данных начинают с диаграммы особого вида - контекстной диаграммы, которая определяет наиболее общий вид системы. На такой диаграмме показывают, как разрабатываемая система будет взаимодействовать с приемниками и источниками информации без указания исполнителей, т. е. описывают интерфейс между системой и внешним миром. Обычно начальная контекстная диаграмма имеет форму звезды.  
Если проектируемая система содержит большое количество внешних сущностей (более 10-ти), имеет распределенную природу или включает уже существующие подсистемы, то строят иерархии контекстных диаграмм.  
При разработке контекстных диаграмм происходит детализация функциональной структуры будущей системы, что особенно важно, если разработка ведется несколькими коллективами разработчиков.  
Полученную таким образом модель системы проверяют на полноту исходных данных об объектах системы и изолированность объектов (отсутствие информационных связей с другими объектами).  
На следующем этапе каждую подсистему контекстной диаграммы детализируют при помощи диаграмм потоков данных. В процессе детализации соблюдают правило балансировки - при детализации подсистемы можно использовать компоненты только тех подсистем, с которыми у разрабатываемой подсистемы существует информационная связь (т. е. с которыми она связана потоками данных).  
Решение о завершении детализации процесса принимают в следующих случаях:
- процесс взаимодействует с 2-3-мя потоками данных
- возможно описание процесса последовательным алгоритмом
- процесс выполняет единственную логическую функцию преобразования входной информации в выходную
  
На недетализируемые процессы составляют спецификации, которые должны содержать описание логики (функций) данного процесса. Такое описание может, выполняться: на естественном языке, с применением структурированного естественного языка (псевдокодов), с применением таблиц и деревьев решений, в виде схем алгоритмов, в том числе flow-форм и диаграмм Насси-Шнейдермана.  
Для облегчения восприятия процессы детализируемой подсистемы нумеруют, соблюдая иерархию номеров: так процессы, полученные при детализации процесса или подсистемы «1», должны нумероваться «1.1», «1.2» и т. д. Кроме этого желательно размещать на каждой диаграмме от 3-х до 6-7-ми процессов и не загромождать диаграммы деталями, не существенными на данном уровне.  
Декомпозицию потоков данных необходимо осуществлять параллельно с декомпозицией процессов.  
Окончательно разработку модели выполняют в два этапа:
1. Построение контекстной диаграммы:
	- Классификация множества требований и организация их в основные функциональные группы - процессы
	- Идентификация внешних объектов - внешних сущностей, с которыми система должна быть связана
	- Идентификация основных видов информации - потоков данных, циркулирующей между системой и внешними объектами
	- Предварительная разработка контекстной диаграммы
	- Изучение предварительной контекстной диаграммы и внесение в нее изменений по результатам ответов на возникающие при изучении вопросы по всем ее частям
	- Построение контекстной диаграммы путем объединения всех процессов предварительной диаграммы в один процесс, а также группирования потоков
2. Формирование иерархии диаграмм потоков данных:
	- Проверка и изучение основных требований по диаграмме соответствующего уровня (для первого уровня - по контекстной диаграмме)
	- Декомпозиция каждого процесса текущей диаграммы потоков данных с помощью детализирующей диаграммы или - если некоторую функцию сложно или невозможно выразить комбинацией процессов - построение спецификации процесса
	- Добавление определений новых потоков в словарь данных при каждом появлении их на диаграмме
	- Проведение ревизии с целью проверки корректности и улучшения наглядности модели после построения 2-3 уровней
  
Полная спецификация процессов включает также описание структур данных, используемых как при передаче информации & потоке, так и при хранении в накопителе. Описываемые структуры данных могут содержать альтернативы, условные вхождения и итерации. Условное вхождение означает, что соответствующие элементы данных в структуре могут отсутствовать. Альтернатива означает, что в структуру может входить один из перечисленных элементов. Итерация означает, что элемент может повторяться некоторое количество раз.  
Кроме того, для данных должен быть указан тип: непрерывное или дискретное значение. Для непрерывных данных могут определяться единицы измерений, диапазон значений, точность представления и форма физического кодирования. Для дискретных - может указываться таблица допустимых значений.  
Полученную законченную модель необходимо проверить на полноту и согласованность. Под согласованностью модели в данном случае понимают выполнение для всех потоков данных правила сохранения информации: все поступающие куда-либо данные должны быть считаны и записаны.  
**Пример 1.** Разработаем иерархию диаграмм потоков данных программы построения графиков/таблиц функций.  
Разработку начнем с построения контекстной диаграммы. Для чего определим внешние сущности и потоки данных между программой и внешними сущностями. У данной системы единственная внешняя сущность Учащийся. Он вводит или выбирает из списка функцию, задает интервал и количество точек, а затем получает таблицу значений функции и ее график. На рисунке представлена контекстная диаграмма системы.  
![Контекстная диаграмма программы построения графиков функций](../Pictures/15_10.%20Контекстная%20диаграмма%20программы%20построения%20графиков%20функций.png)  
Детализируя эту диаграмму, получаем три процесса: 
- Ввод/выбор функции и ее разбор
- Построение таблицы значений функции
- Построение графика функции
  
Для хранения функций добавляем хранилище функций. Затем определяем потоки данных.  
Если сравнить полученную детализирующую диаграмму потоков данных и функциональные диаграммы для той же системы, то можно отменить некоторые различия в представлении одной и той же информации. Например, на диаграмме потоков данных можно показать хранилище данных, что очень существенно для систем, включающих базы данных. Кроме того, диаграммы потоков данных позволяют точно адресовать функции системы при наличии нескольких категорий пользователей, что демонстрирует следующий пример.  
![Детализирующая диаграмма потоков данных системы исследования функций](../Pictures/15_11.%20Детализирующая%20диаграмма%20потоков%20данных%20системы%20исследования%20функций.png)  
**Пример 2.** Разработать иерархию диаграмм потоков данных системы учета успеваемости студентов.  
В качестве внешних сущностей для системы выступают Декан, Заместитель декана по курсу и Сотрудник деканата. Определим потоки данных между этими сущностями и системой.  
Декан должен получать:
- Сводку успеваемости по факультету (процент успеваемости групп, курсов и в целом по факультету) на текущий или указанный момент времени
- Полные сведения об учебе конкретного студента (успеваемость по всем изученным предметам всех завершенных семестров обучения с учетом пересдач)
  
![Контекстная диаграмма системы учета успеваемости студентов](../Pictures/15_12.%20Контекстная%20диаграмма%20системы%20учета%20успеваемости%20студентов.png)  
Заместитель декана по курсу должен получать:
- сводку успеваемости по курсу (процент успеваемости по группам) на текущий или указанный момент
- сведения о сдаче экзаменов и зачетов указанной группой
- текущие сведения об успеваемости конкретного студента
- полные сведения об учебе конкретного студента (успеваемость по всем изученным предметам всех завершенных семестров обучения с учетом пересдач)
- список задолжников по факультету с указанием групп и несданных предметов
  
Сотрудник деканата должен обеспечивать:
- ввод списков студентов, зачисленных на первый курс
- корректировку списков студентов в соответствии с приказами о зачислении, отчислении, переводе и т. п.
- ввод учебных планов кафедр
- ввод расписания сессии
- ввод результатов сдачи зачетов и экзаменов на основании ведомостей и направлений
  
Кроме того, сотрудник декана должен иметь возможность получать:
- справку о прослушанных студентом предметах с указанием часов и итоговых оценок
- приложение к диплому выпускника также с указанием часов и итоговых оценок
  
Далее детализируем процессы в системе. На рисунке представлена детализирующая диаграмма потоков данных, где выделены две подсистемы: Подсистема наполнения базы данных и Подсистема формирования отчетов, а также хранилище данных, которое может быть реализовано как с помощью средств СУБД, так и без них. Решение о целесообразности использования средств СУБД может быть принято позднее, после анализа структур хранимых данных.  
![Детализирующая диаграмма потоков данных](15_13.%20Детализирующая%20диаграмма%20потоков%20данных.png)  
Дальнейшую детализацию процессов можно не выполнять, так как их сущность для разработчика очевидна. Однако становится ясно, что полная спецификация данной разработки должна включать описание базы данных.  
Кроме этого, для данной системы целесообразно выполнить моделирование управляющих процессов, что позволит уточнить организацию процесса обработки данных.
## Моделирование управляющих процессов с помощью диаграмм потоков данных
Для представления управляющих процессов в проектируемых системах можно применить диаграммы переходов состояний или диаграммы управляющих потоков данных, которые используют понятия: управляющий процесс, управляющий поток данных и, возможно, хранилище управляющих данных.  
Управляющий процесс получает с помощью управляющих потоков некоторую информацию о ситуации в системе и инициирует посредством управляющего потока соответствующие процессы.  
На диаграммах управляющих потоков данных используют те же обозначения, что и для обычных потоков, но изображают их пунктирной линией. Дополнительно может быть указан тип управляющего потока:
- **Т-поток (Trigger Flow - триггерный поток)** - поток управления, который может только «включать» процесс - следующий управляющий сигнал опять «включит» процесс, даже если процесс уже активен
- **А-поток (Activator Flow - активирующий поток)** - поток управления, который может как «включать», так и «выключать» управляемый процесс - если процесс включен, то следующий сигнал его выключит
- **E/D-поток (Enable/Disable Flow - переключающий поток)** - поток управления, который может включать процесс сигналом по одной (Е) линии и выключать - сигналом по другой (D) линии
  
При необходимости тип потока данных (управляющий или обычный) можно изменять. Для этого используют специальное обозначение - узел изменения типа потока данных. К этому узлу поток подходит как поток данных, а выходит из него как управляющий поток.  
![[15_14. Узел изменения типа потока данных.png]]
**Spring Framework** - облегченная платформа для построения enterprise-приложений на Java:
- Можно применять к любому Java-приложению, не привязана к web
- Облегченная - не размер дистрибутива, а степень воздействия на код
- Модульная структура (IoC, web, Data Access, Messaging, ...)
## Основа Spring
Ядро Spring Framework основано на принципе **инверсии управления (Inversion of Control - IoC)**, когда создание и управление зависимостями между компонентами становятся внешними.  
Мартин Фаулер назвал процесс внедрения зависимостей во время выполнения, приводящее к инверсии **Dependency Injection - DI**.
Реализация DI в Spring основана на 2 концепциях:
- JavaBean
- Интерфейсы
  
В Spring любой управляемый ресурс - это **bean**.  
С помощью интерфейсов можно получить максимальную отдачу от DI: бины могут использовать любую реализацию интерфейса для удовлетворения их зависимости.  
Конфигурирование через XML или классы Java, или аннотации в коде, или через Groovy.  
Основные преимущества DI:
- Сокращение объема связующего кода
- Упрощенная конфигурация приложения
- Возможность управления общими зависимостями в единственном репозитории
- Улучшенная возможность тестирования
  
Широчайший набор средств и инструментов:
- АОП (аспектно-ориентированное программирование)
- SpEL (Spring Expression Language)
- Валидация - проверка достоверности
- Доступ к данным реляционных БД, NoSQL, графовые и документные БД
- Управление транзакциями
- MVC на web-уровне
- Поддержка WebSocket
## Модули Spring
![Модули Spring](../Pictures/10_01.%20Модули%20Spring.png)  
## Три кита Spring-приложений
1. **Core** обеспечивает ключевые части фреймворка, включая свойства IoC и DI.  
2. **Beans** - это классы, созданием экземпляров которых и установкой в них зависимостей управляет контейнер фреймворка Spring.  
3. **Context** построен на основе Beans и Core и позволяет получать доступ к любому объекту, который определен в настройках. Ключевым элементов модуля Context является интерфейс `ApplicationContext`.
## Apache Maven
**Maven** - слово на идише, означающее "накопитель знаний".  
Инструмент, который можно использовать для созданий и управления любым проектом на основе Java:
- Упрощение процесса сборки
- Обеспечение единой системы сборки
- Предоставление качественной информации о проекте
- Поощрение лучших практик разработки
## Inversion of Control (IoC) - инверсия управления
Ядро Spring Framework основано на принципе **инверсии управления (Inversion of Control - IoC)**, когда создание и управление зависимостями между компонентами становятся внешними.
#### Проблема
```java
class ClassicalMusic {
	//...
}

class MusicPlayer {
	private ClassicalMusic cimusic;
	
	public void PlayMusic() {
	clmusic = newClassicalMusic();
	//...
	}
}
```
Сильная зависимость - класс `MusicPlayer` сильно зависит от класса `ClassicalMusic`.
#### Первое решение - интерфейс
```java
Interface Music {
	//...
}

class ClassicalMusic implements Music {
	//...
}

class RockMusic implements Music {
	//...
}

class MusicPlayer {
	private Music music;
	
	public void PlayMusic() {
		music = new ClassicalMusic();
		//...
		music = new RockMusic();
		//...
	}
}
```
Слабая зависимость - все классы создаются вручную внутри `MusicPlayer`.
#### Второе решение - beans
```java
Interface Music {
	//...
}

class ClassicalMusic implements Music {
	//...
}

class RockMusic implements Music {
	//...
}

class MusicPlayer {
	private Music music;
	
	public void PlayMusic() {
		ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext("applicationContext.xml");
		
		music = context.getBean("classicMusic", ClassicalMusic.class);
		//...
		music = context.getBean("rockMusic", RockMusic.class);
	}
}
```
`MusicPlayer` сам создает свои зависимости.  
Объект, который мы внедряем в `MusicPlayer` необходимо где-то создать.
```java
class Play {
	public static void main(String[] args) {
		MusicPlayer mp = new MusicPlayer(new RockMusic());
	}
}
```
Внедрение зависимостей - **Dependency Injection**.
Разработку спецификаций программного обеспечения начинают с анализа требований к функциональности, указанных в техническом задании. В процессе анализа выявляют внешних пользователей разрабатываемого программного обеспечения и перечень отдельных аспектов его поведения в процессе взаимодействия с конкретными пользователями. Аспекты поведения программного обеспечения были названы **вариантами использования** или **прецедентами** (use cases).  
Варианты использования основаны на неформальном описании сценариев функционирования проектируемых программных систем, применяемом многими разработчиками программного обеспечения в 1980-1990 годах.  
Вариант использования представляет собой характерную процедуру применения разрабатываемой системы конкретным действующим лицом, в качестве которого могут выступать не только люди, но и другие системы или устройства.  
Не следует путать вариант использования с конкретными операциями будущей системы. Каждый вариант использования связан с некоторой целью, имеющей самостоятельное значение, например для текстового редактора "Формирование оглавления" - это вариант использования, а "Связывание заголовков со специальными стилями" - операция, которую необходимо выполнить, чтобы стало возможно автоматическое построение оглавления.  
В зависимости от цели выполнения конкретной процедуры различают следующие варианты использования:
- **основные** - обеспечивают требуемую функциональность разрабатываемого программного обеспечения
- **вспомогательные** - обеспечивают выполнение необходимых настроек системы и ее обслуживание (например, архивирование информации и т. п.)
- **дополнительные** - обеспечивают дополнительные удобства для пользователя (как правило, реализуются в том случае, если не требуют серьезных затрат каких-либо ресурсов ни при разработке, ни при эксплуатации)
  
Вариант использования можно описать кратко или подробно. Краткая форма описания содержит: название варианта использования, его цель, действующих лиц, тип варианта использования (основная, второстепенная или дополнительная) и его краткое описание. Краткое описание варианта использования "Выполнение задания системы решения комбинаторно-оптимизационных задач" можно представить в следующем виде:

| Название варианта | Выполнение задания                                                                                        |
| ----------------- | --------------------------------------------------------------------------------------------------------- |
| Цель              | Получение результатов решения задачи                                                                      |
| Действующие лица  | Пользователь                                                                                              |
| Краткое описание  | Решение задачи предполагает выбор задачи, выбор алгоритма, задание данных и получение результатов решения |
| Тип варианта      | Основной                                                                                                  |
  
Основные варианты использования обычно описывают подробно, стараясь отразить особенности предметной области разрабатываемого программного обеспечения. Подробная форма, кроме указанной выше информации, включает описание типичного хода событий и возможных альтернатив. Типичный ход событий представляют в виде диалога между пользователями и системой, последовательно нумеруя события. Если пользователь может выбирать варианты, то их описывают в отдельных таблицах. Также отдельно приводят альтернативы, связанные с нарушением типичного хода событий. Ниже представлено подробное описание варианта использования "Выполнение задания"
#### Вариант использования "Выполнение задания"
Типичный ход событий:  

| Действие исполнителя                                                                                                                                                                       | Отклик системы                                                                            |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------- |
| 1. Пользователь инициирует новое задание                                                                                                                                                   | 2. Система регистрирует новое задание и предлагает список типов задач                     |
| 3. Пользователь выбирает тип задачи                                                                                                                                                        | 4. Система регистрирует тип задачи и предлагает список способов задания данных            |
| 5. Пользователь выбирает способ задания данных:  <br>а) Если выбран ввод с клавиатуры, см. раздел "Ввод данных"  <br>б) Если выбран ввод из базы данных, см. раздел "Выбор данных из базы" | 6. Система регистрирует данные и предлагает список алгоритмов решения                     |
| 7. Пользователь выбирает алгоритм                                                                                                                                                          | 8. Система регистрирует алгоритм и предлагает начать решение                              |
| 9. Пользователь инициирует процесс решения                                                                                                                                                 | 10. Система проверяет полноту определения задания и запускает подпрограмму решения задачи |
| 11. Пользователь ожидает                                                                                                                                                                   | 12. Система демонстрирует пользователю результаты и предлагает сохранить их в базе данных |
| 13. Пользователь анализирует результаты и выбирает, сохранять их в базе или нет                                                                                                            | 14. Если выбрано сохранение данных, то система выполняет запись задания в базу            |
|                                                                                                                                                                                            | 15. Система переходит в состояние ожидания                                                |
  
Альтернатива:
11. Если время выполнения программы с точки зрения пользователя велико, то он прерывает процесс выполнения
12. Система прерывает расчеты, предлагает список алгоритмов решения и возвращается на шаг 7
  
Дополнительная информация:
1. Необходимо обеспечить произвольную последовательность выбора типа задачи, данных и алгоритма
2. Необходимо обеспечить возможность выхода из варианта на любом этапе
#### Раздел "Ввод данных"
Типичный ход событий:  

| Действие исполнителя                 | Отклик системы                                                                                                          |
| ------------------------------------ | ----------------------------------------------------------------------------------------------------------------------- |
| 1. Пользователь выбрал "Ввод данных" | 2. Система последовательно запрашивает ввод данных                                                                      |
| 3. Пользователь вводит данные        | 4. Система проверяет данные и запрашивает, сохранять ли данные в базе                                                   |
| 5. Пользователь отвечает на запрос   | 6. Если выбран вариант сохранения данных, то система выполняет запись данных в базу и регистрирует их в текущем задании |
  
Альтернатива:
4. Если обнаружены некорректные данные, то система выдает сообщение об ошибке и предлагает их исправить, возвращаясь на предыдущий шаг
#### Раздел "Выбор данных из базы"
Типичный ход событий:

| Действия пользователя                         | Отклик системы                                               |
| --------------------------------------------- | ------------------------------------------------------------ |
| 1. Пользователь выбрал "Выбор данных из базы" | 2. Система демонстрирует список данных в базе                |
| 3. Пользователь выбирает данные               | 4. Система читает данные и регистрирует их в текущем задании |
## Диаграммы вариантов использования
Диаграммы вариантов использования позволяют наглядно представить ожидаемое поведение системы. Основными понятиями диаграмм вариантов использования являются: действующее лицо, вариант использования, связь.  
**Действующее лицо** - внешняя по отношению к разрабатываемому программному обеспечению сущность, которая взаимодействует с ним с целью получения или предоставления какой-либо информации. Как уже упоминалось выше, действующими лицами могут быть пользователи, другое программное обеспечение или какие-либо технические средства, взаимодействующие с разрабатываемым программным обеспечением.
**Вариант использования** - некоторая очевидная для действующего лица процедура, решающая его конкретную задачу. Все варианты использования, так или иначе, связаны с требованиями к функциональности разрабатываемой системы и могут сильно отличаться по объему выполняемой работы.  
**Связь** - взаимодействие действующих лиц и соответствующих вариантов использования.  
Варианты использования также могут быть связаны между собой. При этом фиксируют связи использования и расширения.  
**Использование** подразумевает, что существует некоторый фрагмент поведения разрабатываемого программного обеспечения, который повторяется в нескольких вариантах использования. Этот фрагмент оформляют, как отдельный вариант использования и указывают связь с ним типа "использование".  
**Расширение** применяют, если имеется два подобных варианта использования, различающиеся наличием в одном из них некоторых дополнительных действий. В этом случае дополнительные действия определяют как отдельный вариант использования, который связан с основным вариантом связью типа "расширение".  
Основные условные обозначения диаграмм вариантов использования:
- Действующее лицо:  
	![Основные условные обозначения диаграмм вариантов использования - Действующее лицо](../Pictures/02_01.%20Основные%20условные%20обозначения%20диаграмм%20вариантов%20использования%20-%20Действующее%20лицо.png)
- Вариант использования:  
	![Основные условные обозначения диаграмм вариантов использования - Вариант использования](../Pictures/02_02.%20Основные%20условные%20обозначения%20диаграмм%20вариантов%20использования%20-%20Вариант%20использования.png)
- Связь:  
	![Основные условные обозначения диаграмм вариантов использования - Связь](../Pictures/02_03.%20Основные%20условные%20обозначения%20диаграмм%20вариантов%20использования%20-%20Связь.png)
  
**Пример 1.** Построить диаграмму вариантов использования для системы решения комбинаторно-оптимизационных задач.  
Действующее лицо у данной системы одно - Пользователь, который, по сути дела, обращается к системе либо для решения новой задачи, либо для просмотра результатов ранее решенной задачи, которые должны сохраняться в базе данных. Представим эти варианты использования на диаграмме:  
![Диаграмма вариантов использования для системы решения комбинаторно-оптимизационных задач](../Pictures/02_04.%20Диаграмма%20вариантов%20использования%20для%20системы%20решения%20комбинаторно-оптимизационных%20задач.png)  
Вариант "Выполнение задания" на самом деле включает несколько вариантов, различающихся способом определения данных (ввод с клавиатуры или чтение из базы) и сохранением введенных данных в базе. Изобразим эти варианты на схеме, указав соответствующие расширения данного варианта.  
Помимо двух основных вариантов использования, система должна также предусматривать вспомогательные прецеденты для удаления лишних данных и результатов из базы.  
**Пример 2.** Построить диаграмму вариантов использования для системы учета успеваемости студентов.  
Действующими лицами системы являются Декан, Заместитель декана по курсу и Сотрудник деканата. Варианты использования выявляем, анализируя техническое задание, и изображаем на диаграмме, связывая с соответствующими действующими лицами:  
![Диаграмма вариантов использования системы учета успеваемости учащихся](../Pictures/02_05.%20Диаграмма%20вариантов%20использования%20системы%20учета%20успеваемости%20учащихся.png)  
Анализ вариантов использования показывает, что вариант получения сводки успеваемости по факультету "использует" вариант получения сводки по курсу, что и представлено на диаграмме.  
Полученная диаграмма вариантов использования отражает типичное взаимодействие пользователя с разрабатываемым программным обеспечением. Ее необходимо обсудить с заказчиком для определения как можно большего числа основных вариантов использования и проанализировать на полноту обслуживания системы.  
Естественно, все варианты использования определить, как правило, не удается: новые варианты фиксируют постоянно, даже в процессе эксплуатации. Но, чем больше вариантов выявлено в процессе уточнения спецификаций, тем лучше, так как при этом получают более точную модель предметной области, что уменьшает вероятность ее пересмотра при добавлении функций.
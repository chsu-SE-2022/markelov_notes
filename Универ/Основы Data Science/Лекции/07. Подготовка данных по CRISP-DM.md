Мы знаем, что за бизнес, в каком формате, какого типа данные - мы смогли их извлечь. Для того, чтобы построить модель, мы должны подготовить данные. Здесь нас интересует качество данных, их описание, связи.
## Восстановление пропущенных значений
- Исключить объекты с пропусками
- Заменить пропущенное значение константой
- Предсказать пропущенное значение на основании других переменных
- Заменить пропущенное значение средним или медианой значение по всему столбику
- Моделировать пропущенное значение с помощью регрессии или с помощью вероятностных функций или другими способами
- Использовать методы взвешивания
В таблице могут быть незаполненные ячейки, или же содержимое некоторых ячеек заведомо некорректное и противоречит здравому смыслу

| ФИО       | Пол | Рост | Вес | Место на олимпиаде |
| --------- | --- | ---- | --- | ------------------ |
| Иванов    | 1   | 172  | 107 | 3                  |
| Петренко  | ?   | 185  | 64  | -4                 |
| Сидорова  | 0   | 168  | 665 | 2                  |
| Николаева | 0   | ?    | 85  | 1                  |
Что можно сделать:
- Удалить объект (строку)
- Удалить столбец, если в нем очень много пропусков
- Заменить значение в ячейке на среднее/медиану/моду/... из значений столбца. Например, для столбца-признака (0, 1, 2, 4, 4, 5, ?) пропущенное значение можно заменить на среднее (2,67), медиану (3), моду (4)
  
Что делать с номинальными признаками:  
Если признак "пол человека" (0, 0, 0, 1, 1, ?), то мы можем:
- Заменить на моду (т. е. на 0)
- Сгенерировать 0 с вероятностью $3/5$ или 1 с вероятностью $2/5$
- Волевым решением объявить "пол" числовым признаком (со всеми вытекающими отсюда последствиями), и применить к нему методы восстановления для числовых признаков
## Восстановление данных при помощи метрики
1. $ρ(P, P) = 0$ (в принципе, логично)
2. $ρ(P, Q)=ρ(Q, P)$ (разумно)
3. $ρ(P, Q)≤ρ(P, T)+ρ(T,Q)$ (неравенство треугольника)
  
**Метрика** может быть вычислена для объектов произвольной природы. Формул существует много, можно придумать свою, главное - она должна отвечать требованиям.
#### Известные метрики
Если даны 2 набора $P=(p_1, p_2, ..., p_n)$ и $Q(q_1,q_2,...,q_n)$, то расстояние между $P$ и $Q$ может быть найдено следующими способами:
1. Как в учебнике геометрии (евклидова метрика) - $ρ(P,Q)=\sqrt{(p_1-q_1)^2+(p_2-q_2)^2+...+(p_n-q_n)^2}$
2. Метрика Манхеттен - $ρ(P,Q)=|p_1-q_1|+|p_2-q_2|+...+|p_n-q_n|$
3. Max-метрика $ρ(P,Q)=max(|p_1-q_1|, |p_2-q_2|, ..., |p_n-q_n|)$
  
Метрик очень много, можно придумать свои собственные.  
Пример восстановления пропущенных значений:  
![[07_01. Восстановление пропущенных значений.png]]  
![[07_02. Восстановление пропущенных значений.png]]  
![[Pasted image 20240327142100.png]]  
**Диаграммы классов** - центральное звено объектно-ориентированных методов разработки программного обеспечения, поэтому все существующие методы используют диаграммы классов в одной из известных нотаций. Однако в основном диаграммы классов в этих методах применяют на этапе проектирования, для того чтобы показать особенности построения конкретных классов. В отличие от ранее существовавших нотаций, UML предлагает использовать три уровня диаграмм классов в зависимости от степени их детализации:
- **Концептуальный уровень**, на котором диаграммы классов, называемые в этом случае контекстными, демонстрируют связи между основными понятиями предметной области
- **Уровень спецификаций**, на котором диаграммы классов отображают интерфейсы классов предметной области, т. е. связи объектов этих классов
- **Уровень реализации**, на котором диаграммы классов непосредственно показывают поля и операции конкретных классов
  
Практически это три разных модели, связь между которыми неоднозначна. Так, если концептуальная модель определяет некоторое понятие предметной области как класс, то это не означает, что для реализации этого понятия будет использован отдельный класс. Однако во всех трех моделях нас интересуют типы объектов (классы) и их статические отношения, что позволяет использовать единую нотацию.  
Каждую из перечисленных моделей используют на конкретном этапе разработки программного обеспечения:
- диаграммы классов уровня спецификации - на этапе проектирования
- диаграммы классов уровня реализации - на этапе реализации
  
Концептуальные модели в соответствии с определением оперируют понятиями предметной области, атрибутами этих понятий и отношениями между ними. Понятию в предметной области разрабатываемого программного обеспечения могут соответствовать как материальные предметы, так и абстракции, которые применяют специалисты предметной области.  
Основным понятиям в модели ставятся в соответствие классы. Класс при этом традиционно понимают как совокупность общих признаков заданной группы объектов предметной области. В соответствии с этим определением на диаграмме классов каждому классу соответствует группа объектов, общие признаки которых и фиксирует класс. Так класс Студент объединяет общие признаки группы людей, обучающихся в высших учебных заведениях. Экземпляр класса или объект (например, Иванов И. И.) обязательно обладает всей совокупностью признаков своего класса и может иметь собственные признаки, не фиксированные в классе. Так, например, помимо того, что Иванов И. И. является студентом, он еще может быть спортсменом, музыкантом и т. д. Строго говоря, таким собственным признаком является и идентифицирующее студента имя.  
На диаграммах класс изображается в виде прямоугольника, внутри которого указано имя класса (рис. 6.6, а):  
![Обозначение класса на концептуальной диаграмме классов](../Pictures/03_01.%20Обозначение%20класса%20на%20концептуальной%20диаграмме%20классов.png)  
При необходимости допускается указывать характеристики класса, например атрибуты, используя специальные секции условного обозначения:  
![Обозначение класса на концептуальной диаграмме классов с уточнением атрибутов](../Pictures/03_02.%20Обозначение%20класса%20на%20концептуальной%20диаграмме%20классов%20с%20уточнением%20атрибутов.png)  
В качестве **атрибутов** представляют некоторые, существенные с точки зрения решаемой задачи характеристики объектов, например идентифицирующие значения (имя, номер). Для конкретного объекта атрибут всегда имеет определенное значение. На диаграмме классов атрибуты обычно показывают в секции атрибутов.  
Под **отношением классов** понимают статическую, т. е. не зависящую от времени, связь между классами. Различают два основных вида отношений: ассоциация и обобщение.  
**Отношение ассоциации** означает наличие связи между экземплярами классов или объектами, например, класс Студент ассоциирован с классом Институт. Ассоциация может иметь имя, например Обучается. Рядом с именем ассоциации обычно ставят стрелку, указывающую направление чтения имени («Студент обучается в институте», а не наоборот).  
Связь между экземплярами классов подразумевает некоторые роли, которые соответствующие объекты играют по отношению друг к другу. Роль связана с направлением ассоциации. Так по отношению к студентам институт - организация, осуществляющая их обучение, т. е. роль института можно назвать Место учебы. Студент для института - объект обучающей деятельности института, т. е. Обучаемый. Если роль собственного имени не имеет, то можно считать, что ее имя совпадает с именем класса, по отношению к которому определяется эта роль. Для рассматриваемого примера это соответственно роли Студент и Институт, но роль можно указать и явно:
- Обозначение ассоциации с указанием имени ассоциации и ее направления:  
	![Обозначение ассоциации с указанием имени ассоциации и ее направления](../Pictures/03_03.%20Обозначение%20ассоциации%20с%20указанием%20имени%20ассоциации%20и%20ее%20направления.png)
- Обозначение ассоциации с указанием имен ролей:  
	![Обозначение ассоциации с указанием имен ролей](../Pictures/03_04.%20Обозначение%20ассоциации%20с%20указанием%20имен%20ролей.png)
- Обозначение ассоциации с указанием множественности:  
	![Обозначение ассоциации с указанием множественности](../Pictures/03_05.%20Обозначение%20ассоциации%20с%20указанием%20множественности.png)
  
Роль также обладает характеристикой множественности, которая показывает, сколько объектов может участвовать в одной связи с каждой стороны. Допускается указывать множественность:
* `*` - от 0 до бесконечности
* `<целое>..*` - от заданного числа до бесконечности
* `<целое>` - точно определенное количество объектов
* `<целое1>, <целое2>` - несколько вариантов точного количества объектов
* `<целое1>..<целое2>` - диапазон объектов
  
С теоретической точки зрения атрибут тоже класс, экземпляры которого жестко ассоциированы с рассматриваемым классом. В концептуальной модели для отображения соответствующих отношений могут использоваться как ассоциации, так и атрибуты. Например, отношение двух понятий Студент и Имя можно представить, как в виде ассоциации соответствующих классов, так и в варианте, когда классу Студент ставится в соответствие атрибут Имя.  
Чтобы избежать излишних нагромождений рекомендуется следовать простому правилу: **если некоторый объект X в реальном мире не является числом или текстом, то это скорее всего понятие. В противном случае - это атрибут.**  
**Обобщением** называют такое отношение между классами, при котором любой объект одного класса (**подтипа**) обязательно является также и объектом другого класса, называемого в данном контексте **супертипом**. Так, если некоторый конкретный студент Иванов И. И. является объектом подтипа Студент первого курса супертипа Студент, то тот же самый Иванов И. И. является объектом указанного супертипа. Следовательно, все, что известно об объектах супертипа (ассоциации, атрибуты, операции), касается и объектов подтипа. На диаграмме классов обобщение обозначают линией с треугольной стрелкой на конце, подходящей к супертипу:  
![Обозначение обобщения](../Pictures/03_06.%20Обозначение%20обобщения.png)  
На практике определение основных понятий предметной области, которые должны представляться на контекстной диаграмме в виде классов, является не тривиальной задачей. Обычно используют следующий способ:
- формируют множество понятий-кандидатов из существительных, характеризующих предметную область в описании вариантов использования
- исключают понятия, не существенные для данного варианта использования, например, в предыдущем примере, «информация», «ввод» и т. п.
  
Для определения множества понятий-кандидатов полезно использовать перечень возможных категорий понятий-кандидатов:  

| Категория понятий-кандидатов                                                                             | Примеры                                                                |
| -------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------- |
| Физические или материальные объекты                                                                      | Самолет - как целое                                                    |
| Спецификации, элементы дизайна или описания объекта - сохраняются в системе даже при отсутствии объектов | Цвет, спецификация товара                                              |
| Место                                                                                                    | Аэропорт, город                                                        |
| Роль человека                                                                                            | Продавец, покупатель, преподаватель                                    |
| Контейнеры других объектов                                                                               | Самолет - как совокупность частей, каталог - как совокупность описаний |
| Содержимое контейнеров                                                                                   | Часть, элемент                                                         |
| Другие компьютеры или внешние системы по отношению к разрабатываемой                                     | Система бронирования билетов                                           |
| Абстрактные понятия                                                                                      | Летательный аппарат                                                    |
| Организации                                                                                              | Фирма, предприятие, НИИ                                                |
| События                                                                                                  | Встреча, покупка билета                                                |
| Процессы и их части - представляется в виде класса, если не анализируются элементы процесса              | Покупка билета, оплата стоимости                                       |
| Правила и политика                                                                                       | Правила аннулирования заказа билета                                    |
| Записи финансовой, трудовой, юридической и другой деятельности, руководства, книги                       | Чек, книга учета, должностная инструкция                               |
  
**Пример.** Построить концептуальную модель для системы решения комбинаторно-оптимизационных задач. Множество понятий-кандидатов для данной разработки включает следующие словосочетания: 
- Задание
- Тип задачи
- Список типов задач
- Способ задания данных
- Ввод данных
- Выбор данных из базы
- Алгоритм решения задачи
- Список конкретных алгоритмов решения задачи
- Полнота описания задания
- Результаты
- Данные
- База данных
  
Попробуем выделить основные понятия и связать их между собой.  
Цель основного варианта использования системы - выполнение задания. Полное описание задания включает: тип задачи, данные и указание на алгоритм. С ним же будут связаны и полученные результаты. Данные могут сохраняться в базе н вводиться. Описание задания и все, чтo с ним связано, может сохраняться в базе.  
Определим возможные обобщения:
- Способ задания данных: Ввод данных, Выбор данных из базы
- Алгоритм: алгоритм решения задачи - Конкретный алгоритм решения задачи
  
Переходим к построению концептуальной модели.  
Основной класс-понятие, исходя из описания, Задание. Связываем с ним классы-понятия Данные, Алгоритм и Результаты.  
В разрабатываемой системе планируется реализовать алгоритмы решения задач трех типов: поиск цикла минимальной длины, проходящего через все вершины; поиск кратчайшего пути и поиск минимального покрывающего дерева. Следовательно, класс-понятие Алгоритм является супертипом для классов Алгоритм поиска цикла минимальной длины, Алгоритм поиска кратчайшего пути и Алгоритм поиска минимального покрывающего дерева. От которых, в свою очередь, будут наследоваться Алгоритмы, реализующие конкретные методы. Алгоритм также связан с Данными и Результатами:  
![Контекстная диаграмма классов для системы решения комбинаторно-оптимизационных задач](../Pictures/03_07.%20Контекстная%20диаграмма%20классов%20для%20системы%20решения%20комбинаторно-оптимизационных%20задач.png)  
Данные и Задания должны храниться в Базе данных, что показывают ассоциациями
соответствующих классов. Способ задания данных для понимания основной концепции проектируемой системы пока не очень существенен.  
Вид задачи в нашем случае, скорее, атрибут класса Задание, чем самостоятельный класс, так как в реальном мире - это имя, которое позволяет уточнить группу возможных алгоритмов решения, а также структуры исходных данных и получаемых результатов. Для алгоритма очень существенной характеристикой является его точность, соответственно добавим атрибут Точность. Другие атрибуты пока не проявились.
<html>
<head>
   <title>О конструировании предложений модификации</title>

</head>
<body background="fon.jpg">
<div align="center"><b><font>4.5. О конструировании предложений модификации</font></b></div><font size = "-1">

<p align=justify>Для тех, кто достаточно хорошо понял предложение SELECT, несложно овладеть конструированием предложений DELETE, INSERT и UPDATE. Но в процессе такого конструирования следует учитывать, что:</p>
<ol><li> Если в WHERE фразе предложений DELETE и UPDATE используется вложенный подзапрос, то во фразе FROM этого подзапроса не должна упоминаться таблица, из которой удаляются (в которой обновляются) строки. Аналогично, в подзапросе предложения INSERT не должна упоминаться таблица, в которую загружаются данные.</p>
<p align=justify>Так, SQL отвергнет предложение</p>
<pre>
INSERT
INTO	Выбрано
SELECT	(33), Т, БЛ
FROM	Выбрано
WHERE	СМ = 17;
</pre>
<p align=justify>позволяющее ввести информацию о том, что отдыхающий, сидящий на 33-м месте, выбирает тот же набор блюд, что и отдыхающий, сидящий на 17-м месте. Ввод придется осуществить через какую-либо промежуточную таблицу, например, таблицу Выбор:</p>
<pre>
DELETE
FROM	Выбор;

INSERT
INTO	Выбор  (СМ, Т, БЛ)
SELECT	(33), Т, БЛ
FROM	Выбрано
WHERE	СМ = 17;

INSERT
INTO	Выбрано
SELECT	СМ, Т, БЛ
FROM	Выбор;
</pre>
<p><li> Составляя предложения модификации данных, необходимо все время помнить о сохранении непротиворечивости базы данных. Об этом упоминалось ранее и подробно говорилось в литературе [<a href=liter.htm>2</a>]. </ol>

<p align="center">
<a href="4-4.htm">4.4</a> | <a href="index.htm">Содержание</a> | <a href="5-1.htm">5.1</a>
</p>

</body>
</html>

**Лексема** - это структурная единица языка, которая состоит из элементарных символов языка и не содержит в своем составе других структурных единиц.  
Лексемами языков программирования являются:
- константы
- знаки пунктуации
- ключевые слова
- и т. д.
  
Состав лексем конкретного языка определяется его синтаксисом.  
Лексический анализатор не является обязательной частью компилятора, т. к. все его функции может выполнять синтаксический анализатор. Но обычно он реализуется отдельно, потому что:
1. Упрощает работу с текстом входной программы
2. Техника реализации лексического анализатора гораздо проще, чем синтаксического
  
**Лексический анализатор** - это часть компилятора, которая читает исходную программу и выделяет в ее тексте лексемы входного языка. На входе ЛА исходный текст, на выходе: информация - промежуточное представление для СА.  
Кроме того, ЛА может выполнять и дополнительные функции:
1. Исключение лишних пробелов
2. Исключение пустых строк
3. Исключение комментариев
4. Подсчет количества строк в программе
5. Идентификация лексемы и указание строки, в которой произошла ошибка
  
## Взаимодействие лексического и синтаксического анализаторов
Существуют 2 способа взаимодействия ЛА и СА:
1. Последовательный
2. Параллельный
#### Последовательный способ
![[Pasted image 20240228104046.png]]  
При последовательном варианте ЛА просматривает весь текст исходной программы от начала до конца и преобразует его в структурированный набор данных (таблицу лексем). В таблице лексем все лексемы заменяются на специально оговоренные коды, определенные разработчиком. ЛА просматривает весь текст от начала до конца один раз, таблица лексем строится вся сразу, компилятор к этой таблице больше не возвращается, всю последующую обработку делают следующие фазы компиляции.
#### Параллельный способ
*Картинку срисовать из пособия*
При параллельном варианте ЛА выполняется поэтапно, так, что СА, выполнив разбор очередной конструкции языка, обращается к ЛА за следующей лексемой. СА может сообщить информацию о том, какую лексему следует ожидать. В процессе разбора при возникновении ошибки может выполняться "откат назад", чтобы попытаться выполнить анализ на другой основе. Только после успешного синтаксического разбора очередной конструкции, ЛА поместит найденные лексемы в таблицу символов и продолжит разбор.  
Последовательный вариант организации и взаимодействия ЛА и СА является более эффективным, т. к. он не требует организации сложных механизмов обмена данными и не требует повторного прочтения уже разобранных лексем.
## Принципы построения и задачи лексического анализатора
Задачи:
1. Выделить лексемы, определив границы этих лексем
2. Распознать выделенную лексему
3. Идентифицировать лексему путем сравнения ее с шаблоном
4. Сформировать дескрипторный код - представление исходного кода, которое будет передаваться на вход СА
5. Выдать информацию об ошибке, если лексема неверна
#### Определение границ лексем
**Определение границ лексем** - это выделение слов в общем потоке, для которых надо выполнять распознавание. Для большинства языков границы лексем распознаются по заданным терминальным символам (пробел, знаки операций, символы комментариев, разделители).  
**Общее правило при работе ЛА**: очередной символ из входного потока добавляется в лексему всегда, когда он может быть туда добавлен. Как только символ не может быть добавлен в лексему, считается, что он является границей лексемы и началом следующей лексемы.
??? с использованием технологии имитации работы конечного автомата. Лексема идентифицируется по заключительному состоянию, в котором оказался конечный автомат.  
#### Дескрипторный код
Выходом ЛА является **дескрипторный код** - поток дескрипторов и таблиц, в которых хранятся значения выделенных в программе лексем.  
**Дескриптор** - это пара вида (тип лексемы, указатель).  
**Тип лексемы** - это числовой код класса лексемы, который означает, что лексема принадлежит одному из конечного множества классов слов, выделенных в языке программирования.  
**Указатель** - это либо начальный адрес области основной памяти, в которой хранится адрес этой лексемы, либо число, адресующее элемент таблицы, в которой хранится значение этой лексемы  
*Пример дескрипторного кода переписать из пособия (ахуенно лекции ведет вщ)* 
#### Способы реализации лексического анализатора
Существуют 3 основных способа реализации ЛА:
1. Использование генератора ЛА - для создания ЛА по спецификациям, основанным на регулярных выражениях
2. Написание ЛА на подходящем языке программирования
3. Написание ЛА на языке ассемблера
#### Задачи лексического анализатора
**Основная задача анализатора** - не порождение лексических единиц, а их распознавание. Математической моделью процесса распознавания регулярного выражения (регулярного языка) является вычислительное устройство - конечный автомат. Если результатом работы конечного автомата является указание на то, допустима или нет входная последовательность символов такой конечный автомат называется **конечным распознавателем**.
данная грамматика описывает язык идентификаторов.  
Конечный автомат является математической моделью для представления алгоритмов распознавания лексем в ЛА. При этом источником по которому строится конечный автомат является регулярная грамматика.

## Теорема 1

[](https://github.com/chsu-SE-2022/podtelkov_notes/blob/main/%D0%A2%D0%B5%D0%BE%D1%80%D0%B8%D1%8F%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%BE%D0%B2%20%D0%B8%20%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85%20%D1%8F%D0%B7%D1%8B%D0%BA%D0%BE%D0%B2/%D0%9B%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/10.%20%D0%9B%D0%B5%D0%BA%D1%81%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9%20%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7%20%D0%B8%20%D0%BA%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D1%8B%D0%B5%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D1%8B.md#%D1%82%D0%B5%D0%BE%D1%80%D0%B5%D0%BC%D0%B0-1)

Пусть задана регулярная грамматика G правила вывода которой имеет вид того на что указывает своей рукой АГ. Тогда конечный автомат, который определяется как пятерка компонентов вида() конечный автомат допускает тот же самый язык, что и поражает регулярная грамматика же.

пример построить пример автомат из грамматики:
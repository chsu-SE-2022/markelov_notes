**Словарь, алфавит** - некое конечное множество элементов - **букв**. Например: $A...Z, a...z$  $(V)$  
**Цепочка** - произвольная последовательность любых допустимых символов из алфавита, записанная одна за другим (цепочка не обязательно будет являться осмысленным словом): $α, β, γ, ...$ $(α(V))$  
$V=\{a, b, c\}$, $α_1=abb, α_2=abc, α_1≠α_2$  
Для цепочки важны количество, порядок и состав символов: $α_3=cba, α_2≠α_3$.  
Цепочки $α$ и $β$ равны если они имеют один и тот же состав, количество и порядок следования символов.  
Длина цепочки - $|α|$  
Операции над цепочками:
1) **Конкатенация (объединение, сложение)**: $α⋅β≠β⋅α$ 
2) **Итерация (повторение)**: $α*=α⋅α⋅α⋅...⋅α$
  
Пустая цепочка ($λ$, $ε$) - не содержит ни одного символа.  
$α(V)$ - цепочка $α$ над алфавитом $V$.  
**Языком** $L$ над алфавитом $V$ называется счетное подмножество цепочек конечной длины из множества всех цепочек $α$ над алфавитом $V$.  
$L(V)$ - язык $L$ над алфавитом $V$.  
![Языки L и M над алфавитом V](../Pictures/04_01.%20Языки%20L%20и%20M%20над%20алфавитом%20V.png)  
Операции над языками:
1. **Объединение** ($L∪M$) - множество слов, принадлежащих хотя бы одному из языков
2. **Конкатенация** ($L⋅M$) - множество слов, полученных следующим образом: берется слово из языка $L$ и справа присоединяется слово из языка $M$
3. **Итерация (замыкание Клини)** ($L^*$) - 0 или более конкатенаций языка $L$
4. **Позитивное замыкание** ($L^+$) - 1 или более конкатенаций языка $L$
  
**Пример:**  
$L=\{A...Z, a...z\}$ - множество букв  
$D = {0, 1, ..., 9}$ - множество цифр  
1. $L∪D = \{A...Z, a...z, 0...9\}$ - объединение $L$ и $D$ представляет собой множество букв и цифр
2. $L⋅D = \{a9, f6, ...\}$ - множество всех строк, где первый символ - буква, второй - цифра
3. $L^* = \{ε, a, b, ..., z\}$ - множество всех строк из букв, включая пустую
4. $L^4 = \{abcd, ...\}$ - множество всех строк из букв длиной 4 символа
5. $L⋅(L∪D) = \{a1,f1,ff, ...\}$ - множество всех строк, где первый символ - буква, второй - буква или цифра
6. $L⋅(L∪D)^* = \{ε, a1, f1, ff, f15, f1d, e15,f, ...\}$ - множество строк, где первый символ - буква, а любое количество следующих - буква или цифра (например, переменные)
  
Способы задания языков:
1. Перечислить все допустимые цепочки
2. Указание способов порождения цепочек языка (задать грамматику)
3. Определение методов распознавания цепочек языка (автомат)
  
![Распознавание цепочек языка автоматом](04_02.%20Распознавание%20цепочек%20языка%20автоматом.png)
## Регулярные множества и регулярные выражения
Пусть $K1$ и $K2$ - это множества цепочек. Над этими множествами возможны следующие операции:  
1) $K1∪K2$ (или $K1+K2$) - объединение
2) $K1⋅K2$ - конкатенация
3) $K1^*, K2^*$ - итерация
  
Приоритет операций:
1) Итерация
2) Конкатенация
3) Объединение

Скобки регулируют последовательность операций.  
Класс **регулярных множеств** над конечным словарем $V$ определяется следующим образом:
1) $Ø→\{ε\}$ (пустое множество) - это регулярное множество
2) Если $a \in V→\{a\}$, то один этот символ - это регулярное множество
3) Если $S$ и $T$ - регулярные множества, то $S∪T$, $S⋅T$, $S^*$, $T^+$ будут регулярными множествами
  
Регулярные множества можно описать формулами - **регулярными выражениями**. Класс регулярных выражений над конечным словарём $V$ определяется следующим образом:
1) $Ø→\{ε\}$
2) $a \in V→\{a\}$
3) Если $S$ и $T$ - регулярные выражения, то $S+T$, $S⋅T$, $S^*$, $T^*$ будут регулярными выражениями
  
**Регулярные выражение** - это форма или шаблон, схематично показывающий, как было построено соответствующее ей регулярное множество с помощью операции 1-3.  
Словесное описание: регулярное выражение ... определяет (задает) множество цепочек вида ...  
**Примеры:**  
Задан алфавит $V=\{a,b\}$
1) $ba^* = \{b, ba, baa, ...\}$ - регулярное выражение $ba^*$ определяет множество цепочек, начинающихся с $b$ и заканчивающихся произвольным количеством $a$
2) $a^*ba^*ba^*=\{bb, abb, abab, ababa, aabaaaabaa, ...\}$ - регулярное выражение $a^*ba^*ba^*$ определяет множество цепочек из $a$ и $b$, содержащих ровно 2 вхождения символа $b$
3) $(a+bb)^*=\{ε, a, bb, abb, aabb, bba, bbaaabbbb, aaaaa, bbbbbb, ...\}$ - регулярное выражение $(a+bb)^*$ определяет множество цепочек из $a$ и $b$, содержащих четное количество символов $b$
4) $(a+b)^*(aa+bb)(a+b)^*=\{aa,bb,abbb,aabb,aaabbb,...\}$ - регулярное выражение $(a+b)^*(aa+bb)(a+b)^*$ определяет множество цепочек из $a$ и $b$, содержащих хотя бы одну пару рядом стоящих $a$ и $b$
5) $a(a+b)^*b=\{ab,aab,abb,ababbaab, ...\}$ - регулярное выражение $a(a+b)^*b$ определяет множество цепочек из $a$ и $b$, начинающихся на $a$ и заканчивающихся на $b$
6) $a(a+b)^*a=\{aa,aaa,aba,ababbaaa, ...\}$ - регулярное выражение $a(a+b)^*a$ определяет множество цепочек из $a$ и $b$ длиною не менее 2 символов, начинающихся и заканчивающихся на $a$
## Грамматики
Язык программирования определяется синтаксисом и семантикой. Формальное описание (определение) синтаксиса языка программирования называется **грамматикой**.  
**Теория формальных грамматик** - это математический аппарат для изучения синтаксиса языка программирования.  
$L(V)$ - формальный язык $L$ над алфавитом $V$ - это множество цепочек.  
![Языки L1 и L2 над алфавитом V](../Pictures/04_03.%20Языки%20L1%20и%20L2%20над%20алфавитом%20V.png)  
Существует два способа описания (определения) класса языков:
1. С помощью порождающей процедуры
2. С помощью распознающей процедуры
  
**Порождающая процедура** задается с помощью конечного множества правил, называемых **грамматикой** и порождающих в точности те цепочки которые принадлежат языку.  
**Распознающая процедура** описывается (задается) некоторым абстрактным распознающим устройством - автоматом.  
При построение трансляторов используются оба способа: грамматика - как средство описания синтаксиса языка программирования, а автомат - как модель алгоритма распознавания предложений языка, которой кладется в основу построения транслятора. При этом методически и технологически сначала проектируется грамматика, а затем по ней, как по источнику, строится алгоритм распознавателя.  
Любой конечный механизм задания языка называется **грамматикой**.  
**Формальной порождающей грамматикой** называется четверка вида $G=(T,N,P,S)$, где:
- $T$ - конечное непустое множество **терминальных символов (терминалы)** - терминальный словарь грамматики. Терминалы представляют собой базовые символы, из которых строятся строки: $a,b,c, ...$
- $N$ - конечное непустое множество **нетерминальных символов (нетерминалы)** - нетерминальный словарь грамматики. Нетерминалы представляют собой переменные, которые обозначают множество строк, которые помогают в определении языка, порождаемого грамматикой: $A,B,C,...$ (записываются заглавными буквами)  
	$T∩N=Ø$  
	$T∪N=V^*=V^+=(T∪N)^+$
- $P$ - множество **продукций (правил)**. Продукция определяет способ, которым терминалы и нетерминалы объединяются друг с другом для создания строк: $α→β$, где $α$, $β$ - цепочки символов. В слове $α$ обязательно присутствует нетерминальный символ $A$. Продукции, имеющие одинаковую левую часть, записываются одной строкой: $α→β_1/β_2/β_3$.  
	$α, β \in(T∪N)^*$  
- $S$ - **стартовый символ (аксиома) грамматики**. Стартовым символом по умолчанию является первый в списке продукций.  
	$S\in N$
  
**Пример:**
$G=(T,N,P,S)$  
$T=\{a,b,c,+,-,*,/,(,)\}$  
$N=\{E,T,F\}$  
$S=E$  
$P$:  
$E→T\ /\ E+T\ /\ E-T$  
$T→F\ /\ T*F\ /\ T/F$  
$F→a\ /\ b\ /\ c\ /\ (E)$  
Грамматика порождает (задает) язык арифметических выражений.  
Цепочка $(a+b)*c$ может быть получена с помощью таких правил:  
$E \implies T \implies T*F \implies F*F \implies (E)*F \implies (E+T)*F \implies (F+T)*F \implies (a+T)*F \implies (a+F)*F \implies (a+b)*F \implies (a+b)*c$  
Мы получили вывод цепочки $(a+b)*c$ из стартового символа $E$ по правилам грамматики.  
Цепочка $w'$, выводимая из цепочки $w$ в грамматике $G$, если в множестве продукций есть правило вывода $φ→ψ$ ($w \implies w'$) - непосредственно выводимая цепочка $w^* \implies w'$:  
$w \implies w_1 \implies w_2 \implies ... \implies w'$   
Цепочка $w'$ выводима из цепочки $w$, если есть последовательность замен (подстановок), в результате которых из цепочки $w$ получится цепочка $w'$.  
Строка терминальных символов, полученная из стартового символа грамматики, называется **предложением языка**. Строки терминальных символов, порождаемые из стартового символа грамматики, образуют язык, порождаемый этой грамматикой.  
Практическое применение грамматик связанно с проблемой распознавания. Проблема распознавания разрешима, если существует алгоритм, который за конечное число шагов дает ответ на вопрос, принадлежит ли произвольная цепочка над основным словарем грамматики языку, порождаемому этой грамматикой. Если такой алгоритм существует, то язык называется **распознаваемым**. Если число шагов этого алгоритма зависит от длины цепочки и возможна предварительная оценка длины алгоритма, такой язык называется **легко распознаваемым**. На практике рассматриваются частные классы порождающих грамматик, которые соответствуют распознаваемым языкам. Наиболее важные классы таких грамматик предложены Наомом Хомским в 1959 году.
## Классификация формальных грамматик по типу правил по Хомскому
$A = (X, S, F, s_0, δ)$  
$G = (N, T, P, S)$  
$N [A, B, C, D, ...]$  
$T [a, b, c, d]$  
$P$ - продукции  
0. $φ → ψ$
1. $α_1Aα_2 → α_1βα_2$ ($A ∈ V*$, $β ∈ V+$)
2. $A → β$ ($A ∈ N$)  
3. 

| $A → aB$ | $A → B$ |
| ---- | ---- |
| $A → a$ | $A → a$ |

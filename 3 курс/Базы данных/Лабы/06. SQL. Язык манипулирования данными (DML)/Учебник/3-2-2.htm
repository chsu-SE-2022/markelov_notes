<html>
<head>
   <title>Эквисоединение таблиц</title>

</head>
<body background="fon.jpg">
<div align="center"><b><font>3.2.2. Эквисоединение таблиц</font></b></div><font size = "-1">

<p align=justify>Если из декартова произведения убрать ненужные строки и столбцы, то можно получить актуальные таблицы, соответствующие любому из соединений.</P>
<font size="-1"><TABLE width=100%>
<TR><TH colspan=3>	Меню</TH><TH colspan=2>	Трапезы</TH><TH colspan=2>	Вид_блюд</TH><TH colspan=6>	Блюда</TH></TR>
<TR><th>Т</TH><th>В</TH><th>БЛ</th><TH>Т</th><TH>Трапеза</TH><th>В</TH><th>Вид</th><TH>БЛ</TH><th>Блюдо</th><TH>В</th><TH>Основа</th><TH>Выход</th><TH>Труд</TH></TR>
<TR><TD>1</TD><TD>З</TD><TD>3</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>1</TD><TD>Салат летний</TD><TD>З</TD><TD>Овощи</TD><TD>200.</TD><TD>3  </TD></TR>
<TR><TD>1</TD><TD>З</TD><TD>3</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>2</TD><TD>Салат мясной</TD><TD>З</TD><TD>Мясо</TD><TD>200.</TD><TD>4  </TD></TR>
<TR><TD>1</TD><TD>З</TD><TD>3</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>3</TD><TD>Салат витаминный</TD><TD>З</TD><TD>Овощи</TD><TD>200.</TD><TD>4	<a href=3-2-1.htm#1><SUP>*</SUP></a></TD></TR>
<TR><TH colspan=13>									.  .  .</th></TR>
<TR><TD>1</TD><TD>З</TD><TD>3</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>12</TD><TD>Суп молочный</TD><TD>С</TD><TD>Молоко</TD><TD>500.</TD><TD>3  </TD></TR>
<TR><TD>1</TD><TD>З</TD><TD>3</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>13</TD><TD>Бастурма</TD><TD>Г</TD><TD>Мясо</TD><TD>300.</TD><TD>5  </TD></TR>
<TR><TH colspan=13>									.  .  .</th></TR>
<TR><TD>1</TD><TD>З</TD><TD>3</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>32</TD><TD>Кофе черный</TD><TD>Н</TD><TD>Кофе</TD><TD>100.</TD><TD>1  </TD></TR>
<TR><TD>1</TD><TD>З</TD><TD>3</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>33</TD><TD>Кофе на молоке</TD><TD>Н</TD><TD>Кофе</TD><TD>200.</TD><TD>2  </TD></TR>
<TR><TD>1</TD><TD>З</TD><TD>6</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>1</TD><TD>Салат летний</TD><TD>З</TD><TD>Овощи</TD><TD>200.</TD><TD>3  </TD></TR>
<TR><TD>1</TD><TD>З</TD><TD>6</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>2</TD><TD>Салат мясной</TD><TD>З</TD><TD>Мясо</TD><TD>200.</TD><TD>4  </TD></TR>
<TR><TD>1</TD><TD>З</TD><TD>6</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>3</TD><TD>Салат витаминный</TD><TD>З</TD><TD>Овощи</TD><TD>200.</TD><TD>4  </TD></TR>
<TR><TD>1</TD><TD>З</TD><TD>6</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>4</TD><TD>Салат рыбный</TD><TD>З</TD><TD>Рыба</TD><TD>200.</TD><TD>4  </TD></TR>
<TR><TD>1</TD><TD>З</TD><TD>6</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>5</TD><TD>Паштет из рыбы</TD><TD>З</TD><TD>Рыба</TD><TD>120.</TD><TD>5  </TD></TR>
<TR><TD>1</TD><TD>З</TD><TD>6</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>6</TD><TD>Мясо с гарниром</TD><TD>З</TD><TD>Мясо</TD><TD>250.</TD><TD>3	<a href=3-2-1.htm#1><SUP>*</SUP></a></TD></TR>
<TR><TH colspan=13>									.  .  .</th></TR>
</TABLE></font>

<p align=center><I>Рис. 3.1. Иллюстрация декартова произведения</I></P>

<p align=justify>Очевидно, что отбор актуальных строк обеспечивается вводом в запрос WHERE фразы, в которой устанавливается соответствие между:</P>
<UL>	<li>кодами трапез (Т) в таблицах Меню и Трапезы (Меню.Т = 			Трапезы.Т),
<li>кодами видов блюд (В) в таблицах Меню и Вид_блюд (Меню.В 			= Вид_блюд.В),
<li>номерами блюд (БЛ) в таблицах Меню и Блюда (Меню.БЛ = 			Блюда.БЛ).</UL>
<p align=justify>Такой скорректированный запрос</P>

<PRE>
SELECT	Меню.*, Трапезы.*, Вид_блюд.*, Блюда.*
FROM	Меню, Трапезы, Вид_блюд, Блюда
WHERE	Меню.Т = Трапезы.Т
AND	Меню.В = Вид_блюд.В
AND	Меню.БЛ = Блюда.БЛ;</PRE>

<p align=justify>позволит получить эквисоединение таблиц Меню, Трапезы, Вид_блюд и Блюда:</P>
<CENTER>
<font size="-1"><TABLE width=100%>
<TR><th>Т</TH><th>В</TH><th>БЛ</TH><th>Т</TH><th>Трапеза</TH><th>В</TH><th>Вид</th><TH>БЛ</th><TH>Блюдо</th><TH>В</th><TH>Основа</TH><th>Выход</TH>
<TH align=left>Труд</TH></TR>
<TR><TD>1</TD><TD>З</TD><TD>3</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>3</TD><TD>Салат витаминный</TD><TD>З</TD><TD>Овощи</TD><TD>200.</TD><TD>4</TD></TR>
<TR><TD>1</TD><TD>З</TD><TD>6</TD><TD>1</TD><TD>Завтрак</TD><TD>З</TD><TD>Закуска</TD><TD>6</TD><TD>Мясо с гарниром</TD><TD>З</TD><TD>Мясо</TD><TD>250.</TD><TD>3</TD></TR>
<TR><TD>1</TD><TD>Г</TD><TD>19</TD><TD>1</TD><TD>Завтрак</TD><TD>Г</TD><TD>Горячее</TD><TD>19</TD><TD>Омлет с луком</TD><TD>Г</TD><TD>Яйца</TD><TD>200.</TD><TD>5</TD></TR>
<TR><TH colspan=12>									.  .  .</th></TR>
<TR><TD>3</TD><TD>Г</TD><TD>16</TD><TD>3</TD><TD>Ужин</TD><TD>Г</TD><TD>Горячее</TD><TD>16</TD><TD>Драчена</TD><TD>Г</TD><TD>Яйца</TD><TD>180.</TD><TD>4</TD></TR>
<TR><TD>3</TD><TD>Н</TD><TD>30</TD><TD>3</TD><TD>Ужин</TD><TD>Н</TD><TD>Напиток</TD><TD>30</TD><TD>Компот</TD><TD>Н</TD><TD>Фрукты</TD><TD>200.</TD><TD>2</TD></TR>
<TR><TD>3</TD><TD>Н</TD><TD>31</TD><TD>3</TD><TD>Ужин</TD><TD>Н</TD><TD>Напиток</TD><TD>31</TD><TD>Молочный напиток</TD><TD>Н</TD><TD>Молоко</TD><TD>200.</TD><TD>2</TD></TR>
</TABLE></font></CENTER>

<p align="center">
<a href="3-2-1.htm">3.2.1</a> | <a href="index.htm">Содержание</a> | <a href="3-2-3.htm">3.2.3</a>
</p>

</body>
</html>

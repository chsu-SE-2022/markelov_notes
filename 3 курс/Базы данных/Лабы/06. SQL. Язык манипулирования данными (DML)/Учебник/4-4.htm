<html>
<head>
   <title>Предложение UPDATE</title>

</head>
<body background="fon.jpg">
<div align="center"><b><font>4.4. Предложение UPDATE</font></b></div><font size = "-1">
<a name="1"></a>
<div align="center"><b><font>4.4.1. Обновление единственной записи</font></b></div><font size = "-1">

<p align=justify>Изменить название блюда с кодом БЛ=5 на Форшмак, увеличить его выход на 30 г и установить NULL-значение в столбец Труд.</p>
<pre>
UPDATE Блюда
SET	Блюдо = 'Форшмак', Выход = (Выход+30), Труд  = NULL
WHERE  БЛ = 5;
</pre>
<a name="2"></a>
<div align="center"><b><font>4.4.2. Обновление множества записей</font></b></div><font size = "-1">

<p align=justify>Утроить цену всех продуктов таблицы поставки (кроме цены кофе - ПР = 17).</p>
<pre>
UPDATE Поставки
SET	Цена = Цена * 3
WHERE  ПР <> 17;
</pre>
<div align="center"><b><font>4.4.3. Обновление с подзапросом</font></b></div><font size = "-1">
<a name="3"></a>

<p align=justify>Установить равной нулю цену и К_во продуктов для поставщиков из Паневежиса и Резекне.</p>
<pre>
UPDATE Поставки
SET	Цена = 0, К_во = 0
WHERE  ПС IN
	(SELECT ПС
		FROM	Поставщики
		WHERE  Город IN ('Паневежис', 'Резекне'));
</pre>
<a name="4"></a>
<b><div align="center"><font>4.4.4. Обновление нескольких таблиц</font></div></b>

<p align=justify>Изменить номер продукта ПР = 13 на ПР = 20.</p>
<pre>
UPDATE	Продукты	UPDATE	Состав
SET	ПР = 20	SET	ПР = 20
WHERE	ПР = 13;	WHERE	ПР = 13;

UPDATE	Поставки	UPDATE	Наличие
SET	ПР = 20	SET	ПР = 20
WHERE	ПР = 13;	WHERE	ПР = 13;
</pre>
<p align=justify>К сожалению в единственным запросе невозможно обновить более одной таблицы, а так как код продукта входит в четыре таблицы, то пришлось выдать четыре сходных запроса. Это может привести к противоречию базы данных (нарушению целостности по ссылкам), поскольку после выполнения первого предложения таблицы Состав, Поставки и Наличие ссылаются на уже несуществующий продукт. База становится непротиворечивой только после выполнения четвертого запроса.</p>

<p align="center">
<a href="4-3-3.htm">4.3.3</a> | <a href="index.htm">Содержание</a> | <a href="4-5.htm">4.5</a>
</p>

</body>
</html>

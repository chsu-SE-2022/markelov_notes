<html>
<head>
   <title>Представления. Создание и уничтожение представлений</title>

</head>
<body background="fon.jpg">
<div align="center"><b><font>5.4. Представления</font></b></div><font size = "-1">
<div align="center"><b><font>5.4.1. Создание и уничтожение представлений</font></b></div><font size = "-1">


<p align=justify>В п.<a href=1-3.htm>1.3</a> уже обсуждалось это понятие, а также приводились примеры его создания и использования. Напомним, что представление - это виртуальная таблица, которая сама по себе не существует, но для пользователя выглядит таким образом, как будто она существует. Представление не поддерживаются его собственными физическими хранимыми данными. Вместо этого в каталоге таблиц хранится определение, оговаривающее, из каких столбцов и строк других таблиц оно должно быть сформировано при реализации SQL-предложения на получение данных из представления или на модификацию таких данных.</p>
<p align=justify>Синтаксис предложения CREATE VIEW имеет вид</p>
<pre>
CREATE VIEW имя_представления
	[(столбец[,столбец] ...)]
	AS подзапрос
	[WITH CHECK OPTION];
</pre>
<p align=justify>где подзапрос, следующий за AS и являющийся определением данного представления, не исполняется, а просто сохраняется в каталоге;</p>
<p align=justify>необязательная фраза "WITH CHECK OPTION" (с проверкой) указывает, что для операций INSERT и UPDATE над этим пред-ставлением должна осуществляться проверка, обеспечивающая удовлетворение WHERE фразы подзапроса;</p>
<p align=justify>список имен столбцов должен быть обязательно определен лишь в тех случаях, когда: </p>
<p align=justify>а) хотя бы один из столбцов подзапроса не имеет имени (создается с помощью выражения, SQL-функции или константы);</p>
<p align=justify>б) два или более столбцов подзапроса имеют одно и то же имя;</p>
<p align=justify>если же список отсутствует, то представление наследует имена столбцов из подзапроса.</p>
<p align=justify>Например, создадим представление Мясные_блюда</p>
<pre>
CREATE VIEW Мясные_блюда
AS SELECT БЛ, Блюдо, В, Выход
FROM	Блюда
WHERE  Основа = 'Мясо';
</pre>
<p align=justify>которое может рассматриваться пользователем как новая таблица в базе данных.</p>
<p align=justify>Уничтожение ненужных представлений выполняется с помощью предложения DROP VIEW (уничтожить представление), имеющего следующий формат:</p>
<pre>
DROP VIEW представление;
</pre>

<p align="center">
<a href="5-3.htm">5.3</a> | <a href="index.htm">Содержание</a> | <a href="5-4-2.htm">5.4.2</a>
</p>

</body>
</html>

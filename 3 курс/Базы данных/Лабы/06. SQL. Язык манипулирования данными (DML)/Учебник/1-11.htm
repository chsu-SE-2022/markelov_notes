<html>
<head>
   <title>Реляционные базы данных и язык SQL</title>

</head>

<body background="fon.jpg">
<div align="center"><b><font>Глава 1. Реляционные базы данных и язык SQL</font></b></div><font size = "-1">
<div align="center"><b><font>1.1. Реляционная база данных</font></b></div><font size = "-1">


<p align=justify>Реляционная база данных представляется пользователю как совокупность таблиц и ничего кроме таблиц. На <a href=#r1>рис.1.1</a> приведен пример реляционной базы данных ПАНСИОН. Этот простой пример используется для иллюстрации большинства вопросов, рассматриваемых в нашей книге. Поэтому советуем потратить немного времени, чтобы хорошо с ним разобраться<a href=#1><sup>*</sup></a>.</p>
<p align=justify>Кладовая пансионата периодически пополняется продуктами из списка, часть которого показана в таблице Продукты. Каждый продукт имеет кроме названия (столбец Продукт) уникальный номер этого продукта (столбец ПР). Химический состав продуктов приведен для 1 кг их съедобной части: основные пищевые вещества (белки, жиры и углеводы) даны в граммах, а минеральные вещества (калий, кальций, натрий) и витамины (B2, PP, C) - в миллиграммах.</p>
<p align=justify>В таблице Блюда представлены уникальные номера блюд (столбец БЛ), их названия, коды видов (см. таблицу Вид_блюд), основной продукт (столбец Основа), масса порции в граммах (столбец Выход) и приведенная стоимость в копейках приготовления одной порции (столбец Труд).</p>
<p align=justify>В таблице Рецепты приведена технология приготовления блюд. Их выделение в отдельную таблицу произведено потому, что одно и то же блюдо может иметь несколько разных рецептов.</p>
<p align=justify>Таблица Состав связывает между собой таблицы Блюда и Продукты, оговаривая, какая масса (в граммах) того или иного продукта (столбец Вес) должна входить в состав одной порции блюда. Так, порция блюда с номером 12 (Суп молочный) должна состоять из 350 г продукта с номером 7 (Молоко), 35 г продукта с номером 13 (Рис), 5 г продукта с номером 3 (Масло) и 5 г продукта с номером 16 (Сахар).</p>
<p align=justify>Шеф-повар ежедневно получает от завхоза сведения о количестве в килограммах имеющихся продуктов и их текущей стоимости (столбцы К_во и Стоимость таблицы Наличие). Используя эти сведения он определяет по таблице Состав перечень тех блюд, которые можно приготовить из этих продуктов, а также калорийность и стоимость таких блюд. При этом стоимость блюда складывается из стоимости и массы продуктов, необходимых для приготовления одной его порции, а также из трудозатрат на ее приготовление (см. таблицу Блюда). Калорийность же определяется по массе и калорийности каждого из продуктов блюда. (Для получения значения калорийности продукта исходят из того, что при окислении 1 г углеводов или белков в организме освобождается в среднем 4.1 ккал, а при окислении 1 г жиров - 9.3 ккал.)</p>
<a name=r1></a>
<center><TABLE border=1 width=80%>
<tr><th align=left>Блюда</th><th align=left>Рецепты</th></tr>

<tr><td>
<TABLE>
<tr><th>БЛ</th><th>Блюдо</th><th>В</th><th>Основа</th><th> Выход</th><th> Труд</th></tr>
<tr><td>1</td><td>Салат летний</td><td>З</td><td>Овощи</td><td>200</td><td>3</td></tr>
<tr><td>2</td><td>Салат мясной</td><td>З</td><td>Мясо</td><td>200</td><td>4</td></tr>
<tr><td>3</td><td>Салат витаминный</td><td>З</td><td>Овощи</td><td>200</td><td>4</td></tr>
<tr><td>4</td><td>Салат рыбный</td><td>З</td><td>Рыба</td><td>200</td><td>4</td></tr>
<tr><td>5</td><td>Паштет из рыбы</td><td>З</td><td>Рыба</td><td>120</td><td>5</td></tr>
<tr><td>6</td><td>Мясо с гарниром</td><td>З</td><td>Мясо</td><td>250</td><td>3</td></tr>
<tr><td>7</td><td>Сметана</td><td>З</td><td>Молоко</td><td>140</td><td>1</td></tr>
<tr><td>8</td><td>Творог</td><td>З</td><td>Молоко</td><td>140</td><td>2</td></tr>
<tr><td>9</td><td>Суп харчо</td><td>С</td><td>Мясо</td><td>500</td><td>5</td></tr>
<tr><td>10</td><td>Суп-пюре из рыбы</td><td>С</td><td>Рыба</td><td>500</td><td>6</td></tr>
<tr><td>11</td><td>Уха из судака</td><td>С</td><td>Рыба</td><td>500</td><td>5</td></tr>
<tr><td>12</td><td>Суп молочный</td><td>С</td><td>Молоко</td><td>500</td><td>3</td></tr>
<tr><td>13</td><td>Бастурма</td><td>Г</td><td>Мясо</td><td>300</td><td>5</td></tr>
<tr><td>14</td><td>Бефстроганов</td><td>Г</td><td>Мясо</td><td>210</td><td>6</td></tr>
<tr><td>15</td><td>Судак по-польски</td><td>Г</td><td>Рыба</td><td>160</td><td>5</td></tr>
<tr><td>16</td><td>Драчена</td><td>Г</td><td>Яйца</td><td>180</td><td>4</td></tr>
<tr><td>17</td><td>Морковь с рисом</td><td>Г</td><td>Овощи</td><td>260</td><td>3</td></tr>
<tr><td>18</td><td>Сырники</td><td>Г</td><td>Молоко</td><td>220</td><td>4</td></tr>
<tr><td>19</td><td>Омлет с луком</td><td>Г</td><td>Яйца</td><td>200</td><td>5</td></tr>
<tr><td>20</td><td>Каша рисовая</td><td>Г</td><td>Крупа</td><td>210</td><td>4</td></tr>
<tr><td>21</td><td>Пудинг рисовый</td><td>Г</td><td>Крупа</td><td>160</td><td>6</td></tr>
<tr><td>22</td><td>Вареники ленивые</td><td>Г</td><td>Молоко</td><td>220</td><td>4</td></tr>
<tr><td>23</td><td>Помидоры с луком</td><td>Г</td><td>Овощи</td><td>260</td><td>4</td></tr>
<tr><td>24</td><td>Суфле из творога</td><td>Г</td><td>Молоко</td><td>280</td><td>6</td></tr>
<tr><td>25</td><td>Рулет с яблоками</td><td>Д</td><td>Фрукты</td><td>200</td><td>5</td></tr>
<tr><td>26</td><td>Яблоки печеные</td><td>Д</td><td>Фрукты</td><td>160</td><td>3</td></tr>
<tr><td>27</td><td>Суфле яблочное</td><td>Д</td><td>Фрукты</td><td>220</td><td>6</td></tr>
<tr><td>28</td><td>Крем творожный</td><td>Д</td><td>Молоко</td><td>160</td><td>4</td></tr>
<tr><td>29</td><td>"Утро"</td><td>Н</td><td>Фрукты</td><td>200</td><td>5</td></tr>
<tr><td>30</td><td>Компот</td><td>Н</td><td>Фрукты</td><td>200</td><td>2</td></tr>
<tr><td>31</td><td>Молочный напиток</td><td>Н</td><td>Молоко</td><td>200</td><td>2</td></tr>
<tr><td>32</td><td>Кофе черный</td><td>Н</td><td>Кофе</td><td>200</td><td>1</td></tr>
<tr><td>33</td><td>Кофе на молоке</td><td>Н</td><td>Кофе</td><td>200</td><td>2</td></tr>
</TABLE></td>
<td><table>
<tr><th>БЛ</th><th>Рецепт</th></tr>
<tr><td>1</td><td>Помидоры ...</td></tr>
<tr><td>2</td><td>Вареное  ...</td></tr>
<tr><td>3</td><td>Зелень ме...</td></tr>
<tr><td>4</td><td>Вареные р...</td></tr>
<tr><td>5</td><td>Филе суда...</td></tr>
<tr><td>6</td><td>Мясо варе...</td></tr>
<tr><td>7</td><td>Сметану п...</td></tr>
<tr><td>8</td><td>Протертый ..</td></tr>
<tr><td>9</td><td>Грудинку ...</td></tr>
<tr><td>10</td><td>Филе суда...</td></tr>
<tr><td>11</td><td>Судак очи...</td></tr>
<tr><td>12</td><td>Промытый ...</td></tr>
<tr><td>13</td><td>Мясо наре...</td></tr>
<tr><td>14</td><td>Говядину ...</td></tr>
<tr><td>15</td><td>Подготовл...</td></tr>
<tr><td>16</td><td>Сырые яйц...</td></tr>
<tr><td>17</td><td>Нарезать ...</td></tr>
<tr><td>18</td><td>В протерт...</td></tr>
<tr><td>19</td><td>К свежим ...</td></tr>
<tr><td>20</td><td>Рис свари...</td></tr>
<tr><td>21</td><td>Готовую р...</td></tr>
<tr><td>22</td><td>В протерт...</td></tr>
<tr><td>23</td><td>Спассеров...</td></tr>
<tr><td>24</td><td>В протерт...</td></tr>
<tr><td>25</td><td>Очистить ...</td></tr>
<tr><td>26</td><td>Не прорез...</td></tr>
<tr><td>27</td><td>Запеченны...</td></tr>
<tr><td>28</td><td>Яйца разм...</td></tr>
<tr><td>29</td><td>Очищенную ..</td></tr>
<tr><td>30</td><td>Яблоки оч...</td></tr>
<tr><td>31</td><td>Яблоки на...</td></tr>
<tr><td>32</td><td>Кофеварку ..</td></tr>
<tr><td>33</td><td>Сварить ч...</td></tr>
</TABLE>
</TABLE>
<br><font size="-1">
<TABLE border=1 width=80%>
<tr><th align=left>Поставщики</th></tr>
<tr><td><TABLE>
<tr><td>ПС</td><td>Название</td><td>Статус</td><td>Город</td><td>Адрес</td><td>Телефон </td></tr>
<tr><td>1</td><td>СЫТНЫЙ</td><td>рынок</td><td>Ленинград</td><td>Сытнинская, 3</td><td>2329916 </td></tr>
<tr><td>2</td><td>ПОРТОС</td><td>кооператив</td><td>Резекне</td><td>Садовая, 27</td><td>317664 </td></tr>
<tr><td>3</td><td>ШУШАРЫ</td><td>совхоз</td><td>Пушкин</td><td>Новая, 17</td><td>4705038 </td></tr>
<tr><td>4</td><td>ТУЛЬСКИЙ</td><td>универсам</td><td>Ленинград</td><td>Тульская, 3</td><td>2710837 </td></tr>
<tr><td>5</td><td>УРОЖАЙ</td><td>коопторг</td><td>Луга</td><td>Песчаная, 19</td><td>789000 </td></tr>
<tr><td>6</td><td>ЛЕТО</td><td>агрофирма</td><td>Ленинград</td><td>Пулковское ш.,8</td><td>2939729 </td></tr>
<tr><td>7</td><td>ОГУРЕЧИК</td><td>ферма</td><td>Паневежис</td><td>Укмерге, 15</td><td>127331 </td></tr>
<tr><td>8</td><td>КОРЮШКА</td><td>кооператив</td><td>Йыхви</td><td>Нарвское ш., 64</td><td>432123 </td></tr>
</TABLE>
</td></tr>
</TABLE>
<br>
<TABLE border=1 width=80%>
<TR><TH align=left>Состав </TH><TH align=left>Поставки</TH></TR>
<TR><TD>
<TABLE>
<TR><TH>БЛ</TH><TH>ПР</TH><TH>Вес</TH><TH>БЛ</TH><TH>ПР</TH><TH>Вес</TH><TH>БЛ</TH><TH>ПР</TH><TH>Вес</TH><TH>БЛ</TH><TH>ПР</TH><TH>Вес</TH></TR>
<tr><td>1</td><td>11</td><td>100</td><td>9</td><td>11</td><td>25</td><td>16</td><td>7</td><td>35</td><td>24</td><td>8</td><td>80</td></tr>
<tr><td>1</td><td>15</td><td>80</td><td>9</td><td>13</td><td>35</td><td>16</td><td>6</td><td>15</td><td>24</td><td>7</td><td>100</td></tr>
<tr><td>1</td><td>12</td><td>5</td><td>9</td><td>12</td><td>15</td><td>16</td><td>14</td><td>9</td><td>24</td><td>5</td><td>40</td></tr>
<tr><td>1</td><td>4</td><td>15</td><td>9</td><td>3</td><td>15</td><td>16</td><td>3</td><td>5</td><td>24</td><td>6</td><td>30</td></tr>
<tr><td>2</td><td>1</td><td>65</td><td>10</td><td>2</td><td>70</td><td>17</td><td>9</td><td>150</td><td>24</td><td>16</td><td>20</td></tr>
<tr><td>2</td><td>9</td><td>40</td><td>10</td><td>7</td><td>250</td><td>17</td><td>7</td><td>50</td><td>24</td><td>3</td><td>10</td></tr>
<tr><td>2</td><td>11</td><td>35</td><td>10</td><td>3</td><td>20</td><td>17</td><td>13</td><td>25</td><td>24</td><td>14</td><td>10</td></tr>
<tr><td>2</td><td>12</td><td>20</td><td>10</td><td>14</td><td>15</td><td>17</td><td>3</td><td>20</td><td>25</td><td>15</td><td>120</td></tr>
<tr><td>2</td><td>5</td><td>20</td><td>10</td><td>12</td><td>5</td><td>17</td><td>12</td><td>10</td><td>25</td><td>16</td><td>35</td></tr>
<tr><td>2</td><td>4</td><td>20</td><td>11</td><td>2</td><td>100</td><td>17</td><td>14</td><td>5</td><td>25</td><td>14</td><td>30</td></tr>
<tr><td>3</td><td>11</td><td>55</td><td>11</td><td>9</td><td>20</td><td>18</td><td>8</td><td>140</td><td>25</td><td>8</td><td>20</td></tr>
<tr><td>3</td><td>15</td><td>55</td><td>11</td><td>10</td><td>20</td><td>18</td><td>6</td><td>30</td><td>25</td><td>3</td><td>20</td></tr>
<tr><td>3</td><td>6</td><td>50</td><td>11</td><td>3</td><td>5</td><td>18</td><td>14</td><td>15</td><td>26</td><td>15</td><td>150</td></tr>
<tr><td>3</td><td>12</td><td>20</td><td>11</td><td>12</td><td>2</td><td>18</td><td>5</td><td>10</td><td>26</td><td>16</td><td>20</td></tr>
<tr><td>3</td><td>10</td><td>15</td><td>12</td><td>7</td><td>350</td><td>18</td><td>16</td><td>15</td><td>26</td><td>3</td><td>2</td></tr>
<tr><td>3</td><td>16</td><td>5</td><td>12</td><td>13</td><td>35</td><td>19</td><td>5</td><td>120</td><td>27</td><td>15</td><td>50</td></tr>
<tr><td>4</td><td>2</td><td>50</td><td>12</td><td>3</td><td>5</td><td>19</td><td>7</td><td>45</td><td>27</td><td>7</td><td>150</td></tr>
<tr><td>4</td><td>11</td><td>50</td><td>12</td><td>16</td><td>5</td><td>19</td><td>10</td><td>20</td><td>27</td><td>5</td><td>80</td></tr>
<tr><td>4</td><td>4</td><td>40</td><td>13</td><td>1</td><td>180</td><td>19</td><td>3</td><td>15</td><td>27</td><td>16</td><td>35</td></tr>
<tr><td>4</td><td>9</td><td>35</td><td>13</td><td>11</td><td>100</td><td>20</td><td>13</td><td>50</td><td>27</td><td>3</td><td>2</td></tr>
<tr><td>4</td><td>5</td><td>20</td><td>13</td><td>10</td><td>40</td><td>20</td><td>7</td><td>75</td><td>28</td><td>8</td><td>100</td></tr>
<tr><td>4</td><td>12</td><td>5</td><td>13</td><td>12</td><td>20</td><td>20</td><td>15</td><td>75</td><td>28</td><td>5</td><td>20</td></tr>
<tr><td>5</td><td>2</td><td>80</td><td>13</td><td>3</td><td>5</td><td>20</td><td>16</td><td>10</td><td>28</td><td>6</td><td>20</td></tr>
<tr><td>5</td><td>9</td><td>40</td><td>14</td><td>1</td><td>90</td><td>20</td><td>3</td><td>5</td><td>28</td><td>16</td><td>15</td></tr>
<tr><td>5</td><td>3</td><td>25</td><td>14</td><td>7</td><td>50</td><td>21</td><td>13</td><td>70</td><td>28</td><td>3</td><td>10</td></tr>
<tr><td>5</td><td>12</td><td>5</td><td>14</td><td>6</td><td>20</td><td>21</td><td>6</td><td>30</td><td>29</td><td>15</td><td>150</td></tr>
<tr><td>6</td><td>1</td><td>80</td><td>14</td><td>10</td><td>10</td><td>21</td><td>3</td><td>20</td><td>29</td><td>9</td><td>200</td></tr>
<tr><td>6</td><td>11</td><td>150</td><td>14</td><td>3</td><td>5</td><td>21</td><td>5</td><td>20</td><td>29</td><td>16</td><td>15</td></tr>
<tr><td>6</td><td>4</td><td>30</td><td>14</td><td>12</td><td>5</td><td>21</td><td>16</td><td>15</td><td>30</td><td>15</td><td>70</td></tr>
<tr><td>6</td><td>12</td><td>10</td><td>14</td><td>14</td><td>3</td><td>22</td><td>8</td><td>140</td><td>30</td><td>16</td><td>10</td></tr>
<tr><td>7</td><td>6</td><td>125</td><td>15</td><td>2</td><td>100</td><td>22</td><td>6</td><td>30</td><td>31</td><td>7</td><td>150</td></tr>
<tr><td>7</td><td>16</td><td>15</td><td>15</td><td>9</td><td>20</td><td>22</td><td>14</td><td>20</td><td>31</td><td>15</td><td>150</td></tr>
<tr><td>8</td><td>8</td><td>75</td><td>15</td><td>5</td><td>20</td><td>22</td><td>16</td><td>15</td><td>31</td><td>16</td><td>25</td></tr>
<tr><td>8</td><td>6</td><td>50</td><td>15</td><td>3</td><td>20</td><td>22</td><td>5</td><td>8</td><td>32</td><td>17</td><td>8</td></tr>
<tr><td>8</td><td>16</td><td>15</td><td>15</td><td>10</td><td>10</td><td>23</td><td>11</td><td>250</td><td>33</td><td>17</td><td>8</td></tr>
<tr><td>9</td><td>1</td><td>80</td><td>15</td><td>12</td><td>5</td><td>23</td><td>10</td><td>65</td><td>33</td><td>16</td><td>25</td></tr>
<tr><td>9</TD><TD>10</TD><TD>30</TD><TD>16</TD><TD>5</TD><TD>120</TD><TD>23</TD><TD>3</TD><TD>20</TD><TD>33</TD><TD>7</TD><TD>75</td></tr>
</TABLE>
</TD>
<TD><TABLE>
<TR><TH>ПС</TH><TH>ПР</TH><TH>Цена</TH><TH>К_во </TH></TR>
<TR><TD>1</TD><TD>9</TD></TR>
<TR><TD>1</TD><TD>11</TD><TD>1.50</TD><TD>50 </TD></TR>
<TR><TD>1</TD><TD>12</TD><TD>3.00</TD><TD>10 </TD></TR>
<TR><TD>1</TD><TD>15</TD><TD>2.00</TD><TD>170 </TD></TR>
<TR><TD>2</TD><TD>1</TD><TD>3.60</TD><TD>300 </TD></TR>
<TR><TD>2</TD><TD>3</TD></TR>
<TR><TD>2</TD><TD>5</TD><TD>1.80</TD><TD>100 </TD></TR>
<TR><TD>2</TD><TD>6</TD><TD>3.60</TD><TD>80 </TD></TR>
<TR><TD>2</TD><TD>8</TD></TR>
<TR><TD>3</TD><TD>7</TD><TD>040</TD><TD>200 </TD></TR>
<TR><TD>3</TD><TD>9</TD></TR>
<TR><TD>3</TD><TD>12</TD><TD>2.50</TD><TD>20 </TD></TR>
<TR><TD>3</TD><TD>15</TD><TD>1.50</TD><TD>200 </TD></TR>
<TR><TD>4</TD><TD>2</TD></TR>
<TR><TD>4</TD><TD>4</TD><TD>2.04</TD><TD>50 </TD></TR>
<TR><TD>4</TD><TD>13</TD><TD>088</TD><TD>150 </TD></TR>
<TR><TD>4</TD><TD>14</TD></TR>
<TR><TD>4</TD><TD>16</TD><TD>094</TD><TD>200 </TD></TR>
<TR><TD>4</TD><TD>17</TD><TD>4.50</TD><TD>50 </TD></TR>
<TR><TD>5</TD><TD>4</TD><TD>3.00</TD><TD>50 </TD></TR>
<TR><TD>5</TD><TD>9</TD></TR>
<TR><TD>5</TD><TD>10</TD><TD>050</TD><TD>130 </TD></TR>
<TR><TD>5</TD><TD>11</TD></TR>
<TR><TD>5</TD><TD>13</TD><TD>1.20</TD><TD>40 </TD></TR>
<TR><TD>5</TD><TD>14</TD><TD>050</TD><TD>70 </TD></TR>
<TR><TD>5</TD><TD>16</TD><TD>1.00</TD><TD>50 </TD></TR>
<TR><TD>6</TD><TD>10</TD><TD>070</TD><TD>90 </TD></TR>
<TR><TD>6</TD><TD>11</TD></TR>
<TR><TD>6</TD><TD>12</TD></TR>
<TR><TD>7</TD><TD>1</TD><TD>4.20</TD><TD>70 </TD></TR>
<TR><TD>7</TD><TD>3</TD><TD>4.00</TD><TD>250 </TD></TR>
<TR><TD>7</TD><TD>6</TD><TD>2.20</TD><TD>140 </TD></TR>
<TR><TD>7</TD><TD>7</TD></TR>
<TR><TD>7</TD><TD>8</TD><TD>1.00</TD><TD>150 </TD></TR>
<TR><TD>8</TD><TD>2</TD></TR>
<TR><TD>8</TD><TD>5</TD><TD>2.00</TD><TD>70 </TD></TR>
<TR><TD>8</TD><TD>11</TD><TD>1.00</TD><TD>100</TD></TR>
</TABLE>
</TD></TR>
</TABLE>
<br>
<TABLE border=1 width=80%>
<TR><TH align=left>Продукты</TH><TH align=left>Наличие</TH></TR>
<TR><TD>
<TABLE>
<TR><TH>ПР </TH><TH>Продукт</TH><TH>Белки</TH><TH>Жиры</TH><TH>Углев</TH><TH>K</TH><TH>Ca</TH><TH>Na</TH><TH>B2</TH><TH>PP</TH><TH>C </TH></TR>
<TR><TD>1</TD><TD>Говядина</TD><TD>189.</TD><TD>124.</TD><TD>0</TD><TD>3150</TD><TD>90</TD><TD>600</TD><TD>1.5</TD><TD>28.</TD><TD>0</TD></TR>
<TR><TD>2</TD><TD>Судак</TD><TD>190</TD><TD>80</TD><TD>0</TD><TD>1870</TD><TD>270</TD><TD>0</TD><TD>1.1</TD><TD>10</TD><TD>30</TD></TR>
<TR><TD>3</TD><TD>Масло</TD><TD>60</TD><TD>825.</TD><TD>90</TD><TD>230</TD><TD>220</TD><TD>740</TD><TD>01</TD><TD>1.</TD><TD>0</TD></TR>
<TR><TD>4</TD><TD>Майонез</TD><TD>31.</TD><TD>670</TD><TD>26.</TD><TD>480</TD><TD>280</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>0</TD></TR>
<TR><TD>5</TD><TD>Яйца</TD><TD>127.</TD><TD>115.</TD><TD>7.</TD><TD>1530</TD><TD>550</TD><TD>710</TD><TD>4.4</TD><TD>1.9</TD><TD>0</TD></TR>
<TR><TD>6</TD><TD>Сметана</TD><TD>26.</TD><TD>300</TD><TD>28.</TD><TD>950</TD><TD>850</TD><TD>320</TD><TD>1.</TD><TD>1.</TD><TD>2</TD></TR>
<TR><TD>7</TD><TD>Молоко</TD><TD>28.</TD><TD>32.</TD><TD>47.</TD><TD>1460</TD><TD>1210</TD><TD>1500</TD><TD>1.3</TD><TD>1.</TD><TD>10</TD></TR>
<TR><TD>8</TD><TD>Творог</TD><TD>167.</TD><TD>90</TD><TD>13.</TD><TD>1120</TD><TD>1640</TD><TD>1410</TD><TD>2.7</TD><TD>4.</TD><TD>5</TD></TR>
<TR><TD>9</TD><TD>Морковь</TD><TD>13.</TD><TD>1.</TD><TD>70</TD><TD>2000</TD><TD>510</TD><TD>210</TD><TD>07</TD><TD>9.9</TD><TD>50</TD></TR>
<TR><TD>10</TD><TD>Лук</TD><TD>17.</TD><TD>0</TD><TD>95.</TD><TD>1750</TD><TD>310</TD><TD>180</TD><TD>02</TD><TD>2.</TD><TD>100</TD></TR>
<TR><TD>11</TD><TD>Помидоры</TD><TD>6.</TD><TD>0</TD><TD>42.</TD><TD>290</TD><TD>140</TD><TD>400</TD><TD>04</TD><TD>5.3</TD><TD>250</TD></TR>
<TR><TD>12</TD><TD>Зелень</TD><TD>9.</TD><TD>0</TD><TD>20</TD><TD>340</TD><TD>275</TD><TD>75</TD><TD>1.2</TD><TD>4.</TD><TD>380</TD></TR>
<TR><TD>13</TD><TD>Рис</TD><TD>70</TD><TD>6.</TD><TD>773.</TD><TD>540</TD><TD>240</TD><TD>260</TD><TD>04</TD><TD>16.</TD><TD>0</TD></TR>
<TR><TD>14</TD><TD>Мука</TD><TD>106.</TD><TD>13.</TD><TD>732.</TD><TD>1760</TD><TD>240</TD><TD>120</TD><TD>1.2</TD><TD>22.</TD><TD>0</TD></TR>
<TR><TD>15</TD><TD>Яблоки</TD><TD>4.</TD><TD>0</TD><TD>113.</TD><TD>2480</TD><TD>160</TD><TD>260</TD><TD>03</TD><TD>3.</TD><TD>130</TD></TR>
<TR><TD>16</TD><TD>Сахар</TD><TD>0</TD><TD>0</TD><TD>998.</TD><TD>30</TD><TD>20</TD><TD>10</TD><TD>0</TD><TD>0</TD><TD>0</TD></TR>
<TR><TD>17</TD><TD>Кофе</TD><TD>127.</TD><TD>36.</TD><TD>9.</TD><TD>9710</TD><TD>180</TD><TD>180</TD><TD>03</TD><TD>1.8</TD><TD>0</TD></TR>
</TABLE>
</TD><TD>
<TABLE>
<TR><TH>ПР</TH><TH> К_во</TH><TH>Стоим</TH></TR>
<TR><TD>1</TD><TD>108</TD><TD>429.84 </TD></TR>
<TR><TD>2</TD><TD>0</TD><TD>000 </TD></TR>
<TR><TD>3</TD><TD>73</TD><TD>274.61 </TD></TR>
<TR><TD>4</TD><TD>39</TD><TD>97.46 </TD></TR>
<TR><TD>5</TD><TD>61</TD><TD>111.83 </TD></TR>
<TR><TD>6</TD><TD>88</TD><TD>206.60 </TD></TR>
<TR><TD>7</TD><TD>214</TD><TD>83.08 </TD></TR>
<TR><TD>8</TD><TD>92</TD><TD>82.80 </TD></TR>
<TR><TD>9</TD><TD>0</TD><TD>000 </TD></TR>
<TR><TD>10</TD><TD>77</TD><TD>46.30 </TD></TR>
<TR><TD>11</TD><TD>46</TD><TD>51.70 </TD></TR>
<TR><TD>12</TD><TD>13</TD><TD>34.96 </TD></TR>
<TR><TD>13</TD><TD>54</TD><TD>51.14 </TD></TR>
<TR><TD>14</TD><TD>91</TD><TD>43.77 </TD></TR>
<TR><TD>15</TD><TD>117</TD><TD>189.92 </TD></TR>
<TR><TD>16</TD><TD>98</TD><TD>96.14 </TD></TR>
<TR><TD>17</TD><TD>37</TD><TD>166.50</TD></TR>
</TABLE>
</TD></TR>
</TABLE>
<br>
<TABLE border=1 width=80%>
<TR><TH align=left>Вид_блюд</TH><TH align=left>Трапезы</TH><TH align=left>Меню</TH><TH align=left>Выбор</TH><TH align=left>Выбрано</TH></TR>
<TR valign=top><TD>
<TABLE>
<TR><TH>В</TH><TH>Вид</TH></TR>
<TR><TD>З	</TD><TD>Закуска</TD></TR>
<TR><TD>С	</TD><TD>Суп</TD></TR>
<TR><TD>Г	</TD><TD>Горячее</TD></TR>
<TR><TD>Д	</TD><TD>Десерт			</TD></TR>
<TR><TD>Н	</TD><TD>Напиток</TD></TR></TABLE></TD>
<TD><TABLE>
<TR><TH>Т</TH><TH>Трапеза</TH></TR>
<TR><TD>1	</TD><TD>Завтрак</TD></TR>
<TR><TD>2	</TD><TD>Обед</TD></TR>
<TR><TD>3	</TD><TD>Ужин</TD></TR>
</TABLE>
</TD><TD>
<TABLE>
<TR><TR><TH>Т</TH><TH>	В</TH><TH>	БЛ</TH><TH>	Т</TH><TH>	В</TH><TH>	БЛ</TH><TH>	Т</TH><TH>	В</TH><TH>	БЛ</TH></TR></TR>
<TR><TD>1</TD><TD>	З</TD><TD>	3</TD><TD>	2</TD><TD>	З</TD><TD>	1</TD><TD>	3</TD><TD>	З</TD><TD>	6</TD></TR>
<TR><TD>1</TD><TD>	З</TD><TD>	6</TD><TD>	2</TD><TD>	З</TD><TD>	6</TD><TD>	3</TD><TD>	З	</TD><TD>8</TD></TR>
<TR><TD>1</TD><TD>	Г</TD><TD>	19</TD><TD>	2</TD><TD>	С</TD><TD>	9</TD><TD>	3</TD><TD>	Г	</TD><TD>20</TD></TR>
<TR><TD>1</TD><TD>	Г</TD><TD>	21</TD><TD>	2</TD><TD>	С	</TD><TD>12</TD><TD>	3</TD><TD>	Г</TD><TD>	16</TD></TR>
<TR><TD>1</TD><TD>	Н</TD><TD>	31	</TD><TD>2</TD><TD>	Г	</TD><TD>14</TD><TD>	3</TD><TD>	Н</TD><TD>	30</TD></TR>
<TR><TD>1</TD><TD>	Н</TD><TD>	32	</TD><TD>2	</TD><TD>Г</TD><TD>	16</TD><TD>	3</TD><TD>	Н</TD><TD>	31</TD></TR>
<TR><TD colspan=3></TD><TD>		2</TD><TD>	Г</TD><TD>	18</TD><TD colspan=3>				</TD></TR>
<TR><TD colspan=3>	</TD><TD>	2</TD><TD>	Д</TD><TD>	26	</TD><TD colspan=3>			</TD></TR>
<TR><TD colspan=3>	</TD><TD>	2	</TD><TD>Д	</TD><TD>28	</TD><TD colspan=3>			</TD></TR>
</TABLE>
</TD><TD>
<TABLE>
<TR><TH>СМ	</TH><TH>Т</TH><TH>	В	</TH><TH>БЛ</TH></TR>
<TR><TD>2</TD><TD>	1</TD><TD>	З</TD><TD>	3</TD></TR>
<TR><TD>2</TD><TD>	1</TD><TD>	Г</TD><TD>	19</TD></TR>
<TR><TD>2</TD><TD>	1</TD><TD>	Н</TD><TD>	31</TD></TR>
<TR><TD>2</TD><TD>	2</TD><TD>	З</TD><TD>	1</TD></TR>
<TR><TD>2</TD><TD>	2</TD><TD>	С</TD><TD>	12</TD></TR>
<TR><TD>2</TD><TD>	2</TD><TD>	Г</TD><TD>	16</TD></TR>
<TR><TD>2</TD><TD>	2</TD><TD>	Д</TD><TD>	26</TD></TR>
<TR><TD>2</TD><TD>	3</TD><TD>	З</TD><TD>	8</TD></TR>
<TR><TD>2</TD><TD>	3</TD><TD>	Г</TD><TD>	21</TD></TR>
<TR><TD>2</TD><TD>	3</TD><TD>	Н</TD><TD>	32</TD></TR>
</TABLE>
</TD><TD>
<TABLE>
<TR><TH>СМ</TH><TH>	Т</TH><TH>	БЛ </TH></TR>
<TR><TD>1</TD><TD>	1</TD><TD>	3</TD> </TR>
<TR><TD>1</TD><TD>	1</TD><TD>	21 	</TD></TR>
<TR><TH colspan=3>	.</TH></TR>
<TR><TD>2</TD><TD>	2</TD><TD>	16 </TD></TR>
<TR><TD>2</TD><TD>	2</TD><TD>	26 </TD></TR>
<TR><TH colspan=3>	.</TH></TR>
<TR><TD>3</TD><TD>	1</TD><TD>	6 </TD></TR>
<TR><TH colspan=3>	.</TH></TR>
<TR><TD>32</TD><TD>	3</TD><TD>	30</TD></TR>
</TABLE>
</TD></TR>
</TABLE>
</font></center>

  <p align=center><I>Рис. 1.1. Основные таблицы базы данных ПАНСИОН</I></p>
  
<p align=justify>Учитывая примерную стоимость и необходимую калорийность дневного рациона отдыхающих, шеф-повар составляет меню на следующий день. В этом меню (таблица Меню) предлагается по несколько альтернативных блюд каждого вида (таблица Вид_блюд) и для каждой трапезы (таблица Трапезы).	Перед завтраком каждый отдыхающий вводит в ЭВМ номер закрепленного за ним места в столовой пансионата (столбец СМ в таблице Выбор) и желаемый набор блюд для каждой из трапез следующего дня (в примере таблица заполнялась отдыхающим, сидящим на месте с номером 2). Таблицы Выбор объединяются по мере их создания в общую таблицу Выбрано, по которой определяют, сколько порций того или иного блюда надо приготовить для каждой трапезы.</p>
<p align=justify>Завхоз связан с поставщиками продуктов, сведения о которых хранятся в таблице Поставщики. Эта таблица содержит уникальный номер поставщика (столбец ПС), его название, статус, месторасположение и телефон.</p>
<p align=justify>Таблица Поставки связывает между собой таблицы Продукты и Поставщики, оговаривая, какое количество продукта (столбец К_во) и по какой цене поставил тот или иной поставщик. Отсутствие в строке цены и количества говорит о том, что поставщик ПС может поставлять продукт ПР, но в данный момент не осуществил такой поставки.</p>
<p align=justify>Легко заметить, что все таблицы примера (как и все таблицы любой реляционной базы данных) состоят из строки заголовков столбцов и одной или более строк значений данных под этими заголовками. Эти столбцы и строки должны иметь следующие свойства:</p>
<ul>
	<li> всякому столбцу таблицы присвоено имя, которое должно быть уникальным для этой таблицы;
	<li> столбцы таблицы упорядочиваются слева направо, т.е. столбец 1, столбец 2, ..., столбец n. С математической точки зрения это утверждение некорректно, потому что в реляционной системе столбцы не упорядочены. Однако с точки зрения пользователя, порядок, в котором определены имена столбцов, становится порядком, в котором должны вводиться в них данные, если не предварять при вводе каждое значение именем соответствующего столбца (подробнее это описано в Приложении А литературы [<a href=liter.htm>2</a>]);
	<li> строки таблицы не упорядочены (их последовательность определяется лишь последовательностью ввода в таблицу);
	<li> в поле на пересечении строки и столбца любой таблицы всегда имеется только одно значение данных и никогда не должно быть множества значений (правда, это "атомарное" значение может быть достаточно объемным, например, таким, как рецепт блюда);
	<li> всем строкам таблицы соответствует одно и то же множество столбцов, хотя в определенных столбцах любая строка может содержать пустые значения (NULL-значения), т.е. может не иметь значений для этих столбцов;
	<li> все строки таблицы обязательно отличаются друг от друга хотя бы единственным значением, что позволяет однозначно идентифицировать любую строку такой таблицы;
	<li> при выполнении операций с таблицей ее строки и столбцы можно обрабатывать в любом порядке безотносительно к их информационному содержанию.
</ul>
<p align=justify>Почему же база данных, составленная из таких таблиц, называется реляционной? А потому, что отношение - relation - просто математический термин для обозначения неупорядоченной совокупности однотипных записей или таблиц определенного специфического вида, описанного выше. Таким образом, можно, например, сказать, что база данных ПАНСИОН состоит из одиннадцати отношений.</P>
<p align=justify>Реляционные системы берут свое начало в математической теории множеств. Они были предложены в конце 1968 года доктором Э.Ф.Коддом из фирмы IBM, который первым осознал, что можно использовать математику для придания надежной основы и строгости области управления базами данных.</P>
<p align=justify>Нечеткость многих терминов, используемых в сфере обработки данных, заставила Кодда отказаться от них и придумать новые или дать более точные определения существующим. Так, он не мог использовать широко распространенный термин "запись", который в различных ситуациях может означать экземпляр записи, либо тип записей, запись в стиле Кобола (которая допускает повторяющиеся группы) или плоскую запись (которая их не допускает), логическую запись или физическую запись, хранимую запись или виртуальную запись и т.д. Вместо этого он использовал термин "кортеж длины n" или просто "кортеж", которому дал точное определение. В литературе [2,3] можно подробно познакомиться с терминологией реляционных баз данных, а здесь мы будем использовать неформальные их эквиваленты:</P>
<p align=justify><table border=0>
<tr><td>таблица</td><td>для отношения,</td></tr>
<tr><td>строка или запись</td><td>для кортежа, </td></tr>
<tr><td>столбец или поле</td><td>для атрибута. </td></tr>
</table></p>
<p align=justify>Мы также принимаем, по определению, что "запись" означает "экземпляр записи", а "поле" означает "имя и тип поля".</P>

<a name=1></a><small>
<p align=justify><sup>*</sup>  Так как иллюстративная база данных создавалась для лекционного курса в 1988 году, когда существовали "смешные" цены, а также исчезнувшие названия статусов (коопторг) и городов (Ленинград), то автор пытался несколько раз ее модифицировать. Однако поняв, что изменение цен, статусов и названий идет быстрее, чем подготовка и, тем более, выпуск издания, он решил сохранить в книге старые цены и названия.</p></small>

<p align="center">
<a href="intro.htm">Предисловие</a> | <a href="index.htm">Содержание</a> | <a href="1-2.htm">1.2</a>
</p>
</body>
</html>
